<!DOCTYPE HTML>
<html>
  <head>
    <title>Vertical Playlist within a side bar container</title>
    <script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
	<script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
	<script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>

	  <script type="text/javascript">
		  // Enable uiconf js which includes external resources
		  mw.setConfig('Vidiun.EnableEmbedUiConfJs', true);

		  function jsVidiunPlayerTest( videoId ){
			  // Name this module
			  module( "playlist" );
			  var vdp = $('#' + videoId )[0];
			  var $iframe = $('#' + videoId + '_ifp').contents();

			  asyncTest( "Check for playlist within side bar container", function(){
				  vidiunQunitWaitForPlayer(function(){
					  // look for the playlist:
					  ok( $( $iframe).find( '.sideBarContainer' ).length > 0 , "Found side bar container" );
					  ok( $( $iframe).find( '.sideBarContainer > .playlistAPI.medialistContainer' ).length > 0 , "Found playlist within side bar container" );
					  equal ( $( $iframe).find('.chapterBox').length, 4, "Number of clips is 4");
					  start();
				  });
			  });
		  }

	  </script>
	  <!-- qunit-vidiun must come after qunit-bootstrap.js and after mwEmbedLoader.php and after any jsCallbackReady stuff-->
	  <script type="text/javascript" src="../../../modules/VidiunSupport/tests/resources/qunit-vidiun-bootstrap.js"></script>

    </head>
   <body>
   	<h2>Vertical Playlist within a side bar container</h2>
    <p>This player demonstrates using the side bar container as a playlist placeholder.</p>
	<div id='vidiun_player' style="height:480px;width:640px"></div>
	<script>
		vWidget.featureConfig({
			'targetId': 'vidiun_player',
			'wid': '_243342',
			'uiconf_id': '25975211',
			'flashvars': {
				'playlistAPI':{
					'autoContinue': true,
					'includeInLayout': true,
					'autoPlay': false,
					'loop': false,
					'onPage': false,
					'layout': 'vertical',
					'titleLimit': 21,
					'containerPosition': null,
					'parent': 'sideBarContainer',
					'vpl0Name': "test 4 item playlist",
					'vpl0Id': '0_q79jh71b'
				},
				'sideBarContainer': {
					'plugin': true,
					'clickToClose': true
				},
				'nextPrevBtn':{
					'plugin': true
				}
			}
		});
	</script>
  </body>
</html>
