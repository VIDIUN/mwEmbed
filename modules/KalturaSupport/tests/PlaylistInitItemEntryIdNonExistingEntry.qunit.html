<!DOCTYPE HTML>
<html>

<head>
	<title>Playlist Inline Item Entry - Non Existing Entry</title>
	<script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
	<script type="text/javascript" src="../../../mwEmbedLoader.php"></script>	
	<script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
	<script type="text/javascript">
		var entryPlaying = null;
		function jsCallbackReady( videoId ) {
			var vdp = $( '#' + videoId ).get( 0 );
			vdp.addJsListener( 'doPlay', 'doPlayCallback' );
		}
		
		function jsVidiunPlayerTest( videoId ){
			var vdp = $( '#' + videoId ).get( 0 );
			// Name this module
			module( "playlistAPI::initItemEntryId" );

			test( "initItemEntryId is set", function(){
				equal( vdp.evaluate( '{playlistAPI.initItemEntryId}' ), '0_ntavmku5', 'playlistAPI.initItemEntryId flashvar is set and equals to 0_ntavmku5' );
			});
		}
		
		function doPlayCallback( videoId ) {
			var vdp = $( '#' + videoId ).get( 0 );
			if( document.URL.indexOf('runQunitTests') != -1 || document.URL.indexOf('runFlashQunitTests') != -1 ) {
				test( "Playing first entry", function() {
					equal( vdp.evaluate('{mediaProxy.entry.id}'), '0_uka1msg4', 'Started playing entry ' + vdp.ventryid );
				});
			}
		}
	</script>
	
	<!-- qunit-vidiun must come after qunit-bootstrap.js and after mwEmbedLoader.php and after any jsCallbackReady stuff-->
	<script type="text/javascript" src="resources/qunit-vidiun-bootstrap.js"></script>
</head>

<body>
   	<h3> Playlist Inline Item Entry - Non Existing Entry </h3>
   	Since false entry (not existing in this playlist) is passed, should play the first one ( 0_uka1msg4 )
	<br /> <br />
    <div id="kaltura_player" style="width:650px;height:400px;"></div>
    <script>
	    kWidget.featureConfig({
		    'targetId': 'kaltura_player',
		    'wid': '_243342',
		    'uiconf_id': '25975211',
		    'flashvars':{
			    'playlistAPI':{
				    'initItemEntryId': '0_ntavmku5',
				    'autoPlay': true,
				    'includeInLayout': true,
				    'kpl0Name': 'test 4 item playlist',
				    'kpl0Url': 'http://www.kaltura.com/index.php/partnerservices2/executeplaylist?uid=&partner_id=243342&subp_id=24334200&format=8&ks={ks}&playlist_id=0_q79jh71b'
			    }
		    }
	    })
    </script>
	  
</body>

</html>
