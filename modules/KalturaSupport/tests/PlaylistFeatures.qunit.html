<!DOCTYPE HTML>
<html>
<head>
	<title>Playlist Features</title>
	<script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
	<script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
	<script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>

	<script type="text/javascript">
		// Enable uiconf js which includes external resources
		mw.setConfig('Vidiun.EnableEmbedUiConfJs', true);

		function jsVidiunPlayerTest( videoId ){
			// Name this module
			module( "playlist" );
			var vdp = $('#' + videoId )[0];
			var $iframe = $('#' + videoId + '_ifp').contents();

			asyncTest( "Check for playlist features", function(){
				vidiunQunitWaitForPlayer(function(){
					// look for the playlist:
					ok( $( $iframe).find( '.medialistContainer.v-vertical' ).length > 0 , "Found vertical playlist" );
					equal ( $( $iframe).find('.chapterBox').length, 4, "Number of clips is 4");
					equal ( $( $iframe ).find('.v-thumb').width(), vdp.evaluate('{playlistAPI.thumbnailWidth}'), "ThumbWidth is set correctly");
					equal( $( $iframe ).find('.v-description:first').html(), vdp.evaluate('{mediaProxy.entry.description}'), "description matches vdp description");
					start();
				});
			});
		}

	</script>
	<!-- qunit-vidiun must come after qunit-bootstrap.js and after mwEmbedLoader.php and after any jsCallbackReady stuff-->
	<script type="text/javascript" src="../../../modules/VidiunSupport/tests/resources/qunit-vidiun-bootstrap.js"></script>

</head>
<body>
<h2>Playlist Features</h2>
<p>This player demonstrates some features available using a simple playlist configuration.</p>
<p>Use the "Customize" tab to change the following properties to control the playlist layout and behavior:</p>
<ul>
	<li><b>containerPosition</b>: Sets the playlist position to left, right, top and bottom</li>
	<li><b>layout</b>: Sets the playlist layout to vertical or horizontal </li>
	<li><b>autoPlay</b>: Start playing the first clip upon load</li>
	<li><b>autoContinue</b>: Continue to the next clip when the currently playing clip ends</li>
	<li><b>loop</b>: Loops playlist playback (jump to the first clip when the last clip ends)</li>
	<li><b>hideClipPoster</b>: Hide clip poster when switching to another clip</li>
</ul>
<div id='vidiun_player' style="height:365px;width:650px"></div>
<script>
	vWidget.featureConfig({
		'targetId': 'vidiun_player',
		'wid': '_243342',
		'uiconf_id': '25975211',
		'flashvars': {
			'playlistAPI':{
				'autoContinue': true,
				'includeInLayout': true,
				'autoPlay': false,
				'loop': false,
				'onPage': false,
				'layout': 'vertical',
				'containerPosition': 'left',
				'hideClipPoster': true,
				'onPageCss1' : "../components/playlist/playList.css",
				'vpl0Name': "test 4 item playlist",
				'vpl0Id': '0_q79jh71b'
			},
			'nextPrevBtn':{
				'plugin': true
			}
		}
	});
</script>
</body>
</html>
