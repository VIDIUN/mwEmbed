<!DOCTYPE HTML>
<html>
  <head>
	<title>Playlist Inline Item Entry</title>
		<script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
	<script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
	<script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
	  <script type="text/javascript">
		  // Enable uiconf js which includes external resources
		  mw.setConfig('Vidiun.EnableEmbedUiConfJs', true);

		  function jsVidiunPlayerTest( videoId ){
			  // Name this module
			  module( "playlist" );
			  var vdp = $('#' + videoId )[0];
			  var $iframe = $('#' + videoId + '_ifp').contents();

			  asyncTest( "Check for playlist initial entry id", function(){
				  vidiunQunitWaitForPlayer(function(){
					  // look for the playlist:
					  ok( $( $iframe).find( '.medialistContainer.v-vertical' ).length > 0 , "Found vertical playlist" );
					  equal ( vdp.evaluate('{mediaProxy.entry.id}'), vdp.evaluate('{playlistAPI.initItemEntryId}'), "clip id='0_ntovmku5' is playing");
					  start();
				  });
			  });
		  }

	  </script>
	  <!-- qunit-vidiun must come after qunit-bootstrap.js and after mwEmbedLoader.php and after any jsCallbackReady stuff-->
	  <script type="text/javascript" src="../../../modules/VidiunSupport/tests/resources/qunit-vidiun-bootstrap.js"></script>
	</head>
   <body>
   	<h3> Playlist Initial Entry </h3> 
	<div id="vidiun_player" style="width:650px;height:400px;"></div>
	<span id="vdoc-more-desc"><br>This demo highlights starting with the 3rd item in the playlist ( 0_ntovmku5 ). </span>
	<script>
		vWidget.featureConfig({
			'targetId': 'vidiun_player',
			'wid': '_243342',
			'uiconf_id': '25975211',
			'flashvars':{
				'playlistAPI':{
					'initItemEntryId': '0_ntovmku5',
					'autoPlay': true,
					'includeInLayout': true,
					'vpl0Name': 'test 4 item playlist',
					'vpl0Url': 'http://www.vidiun.com/index.php/partnerservices2/executeplaylist?uid=&partner_id=243342&subp_id=24334200&format=8&vs={vs}&playlist_id=0_q79jh71b'
				}
			}
		})
	</script>
  </body>
</html>
