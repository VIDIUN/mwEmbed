<!DOCTYPE HTML>
<html>
  <head>
    <title>Playlist with Vidiun MRSS XML</title>
      <script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
      <script src="../../../mwEmbedLoader.php" type="text/javascript"></script>
      <script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>

	  <script type="text/javascript">
		  // Enable uiconf js which includes external resources
		  mw.setConfig('Vidiun.EnableEmbedUiConfJs', true);

		  function jsVidiunPlayerTest( videoId ){
			  // Name this module
			  module( "playlist" );
			  var vdp = $('#' + videoId )[0];
			  var $iframe = $('#' + videoId + '_ifp').contents();

			  asyncTest( "Check for playlist MRSS feed", function(){
				  vidiunQunitWaitForPlayer(function(){
					  // look for the playlist:
					  ok( $( $iframe).find( '.medialistContainer.v-vertical' ).length > 0 , "Found vertical playlist" );
					  equal ( $( $iframe).find('.chapterBox').length, 3, "Number of clips is 3");
					  start();
				  });
			  });
		  }

	  </script>
	  <!-- qunit-vidiun must come after qunit-bootstrap.js and after mwEmbedLoader.php and after any jsCallbackReady stuff-->
	  <script type="text/javascript" src="../../../modules/VidiunSupport/tests/resources/qunit-vidiun-bootstrap.js"></script>

    </head>
   <body>
   	<h3>Playlist with Vidiun MRSS</h3>
    
   	<br> <br>
    <div id="vidiun_player_1367999865" style="width: 680px; height: 333px;"></div>
    <script>
    var playlistURL = vWidget.getPath() + 'modules/VidiunSupport/tests/resources/rss.xml';
    vWidget.embed({
      "targetId": "vidiun_player_1367999865",
      "wid": "_243342",
      "uiconf_id": 25975211,
      "flashvars": {
	      'playlistAPI':{
		      'autoContinue': true,
		      'includeInLayout': true,
		      'showControlButtons': true,
		      'autoPlay': false,
		      'onPage': false,
		      'autoInsert':true,
		      'layout': 'vertical',
		      'containerPosition': 'left',
		      'vpl0Name': "test 4 item playlist",
		      'vpl0Id': playlistURL
	      }
      },
      "cache_st": 1367999865
    });
    </script>
  </body>
</html>
