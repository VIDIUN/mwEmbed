{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///bundle.js","webpack:///webpack/bootstrap 139b50b3d67590617b40","webpack:///./components/Hotspot.tsx","webpack:///./utils/logger.ts","webpack:///./utils/hotspots-engine.ts","webpack:///./components/Stage.tsx","webpack:///./player-v2/plugin.tsx","webpack:///../node_modules/preact/dist/preact.min.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js"],"names":["root","factory","exports","module","define","amd","a","i","self","this","modules","__webpack_require__","moduleId","installedModules","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","CUnC","__webpack_exports__","prepareUrl","url","match","enableLog","prefix","logPrefix","isEnabled","log","level","context","message","optionalParams","_i","arguments","length","console","apply","concat","scaleVideo","videoWidth","videoHeight","playerWidth","playerHeight","fLetterBox","result","width","height","left","top","scaleToTargetWidth","scaleX1","scaleY1","scaleX2","scaleY2","fScaleOnWidth","Math","abs","value","ChangeTypes","preact_min","__extends","extendStatics","b","setPrototypeOf","__proto__","Array","__","constructor","create","__assign","assign","t","defaultContainerStyles","position","display","boxSizing","outline","defaultButtonsStyles","appearance","border","verticalAlign","textAlign","cursor","wordBreak","textRendering","defaultProps","styles","Hotspot_Hotspot","_super","Hotspot","_this","state","disableClick","isReady","isClickable","onClick","props","hotspot","type","jumpToTime","handleClick","seekTo","window","open","sendAnalytics","eventNumber","target","hotspotId","id","pauseVideo","e","componentDidMount","setState","render","layout","label","_a","visible","containerStyles","y","x","buttonStyles","style","components_Hotspot","NotifyEventTypes","hotspots_engine_HotspotsEngine","HotspotsEngine","hotspots","isFirstTime","hotspotsLayoutReady","lastHandledTime","lastHandledTimeIndex","nextTimeToHandle","hotspotsChanges","playerSize","videoSize","prepareHotspots","updateLayout","recalculateHotspotsLayout","createHotspotsSnapshot","_calculateLayout","scaleCalculation","rawLayout","relativeX","relativeY","relativeWidth","relativeHeight","_b","forEach","getSnapshot","time","timeIndex","findClosestLastIndexByTime","updateTime","currentTime","forceSnapshot","snapshot","userSeeked","hasChangesToHandle","closestChangeIndex","closestChangeTime","delta","createEmptyDelta","updateInternals","createHotspotsDelta","targetIndex","hotspotsCount","index","item","hotspotIndex","indexOf","cuePoint","Show","push","splice","newHotspots","removedHotspots","show","hide","isIndexOfLastChange","isIndexBeforeTheFirstChange","binarySearch","items","lo","hi","mid","floor","min","changes","closestIndex","changesLength","startTime","endTime","Hide","sort","Stage___extends","Stage___assign","Stage_Stage","Stage","engine","initialState","isLoading","getPlayerSize","getVideoSize","visibleHotspots","showHotspots","hasError","notify","event","Monitor","Seeked","syncVisibleHotspots","_handleCuepoints","error","handleResize","reset","loadCuePoints","renderHotspots","visualHotspot","map","hotspotData","key","getCurrentTime","hotspotsUpdate","visibleHotspots_1","hotspotsElements","overflow","components_Stage","plugin___assign","__rest","getOwnPropertySymbols","mw","toObject","jsonAsString","defaultValue","JSON","parse","isIpad","navigator","userAgent","isIphone","document","URL","vidiunPluginWrapper","PluginManager","add","VBaseComponent","extend","_root","_videoSize","_wasPlayed","stage","defaultConfig","parent","order","handleVideoSizeChange","getPlayer","evaluate","setup","addBindings","seek","sendNotification","getCuePoints","cuePoints","callback","getVidiunClient","doRequest","service","action","filter:entryIdEqual","ventryid","filter:objectType","filter:cuePointTypeEqual","filter:tagsLike","data","code","objects","reduce","acc","partnerData","schemaVersion","text","videoHolder","getVideoHolder","kanalonyPlugin","plugins","vAnalony","bind","_getCurrentTime","ref","jQuery","getComponent","$el","attr","css","KM04","r","E","W","children","pop","u","nodeName","attributes","S","vnode","slice","__d","A","debounceRendering","P","k","splitText","_componentConstructor","__n","toLowerCase","_","createElementNS","createElement","parentNode","removeChild","cssText","V","test","innerHTML","__html","replace","substring","addEventListener","f","removeEventListener","__l","removeAttribute","removeAttributeNS","setAttributeNS","setAttribute","className","D","afterMount","h","H","R","ownerSVGElement","j","appendChild","_component","nodeValue","createTextNode","replaceChild","__preactattr_","U","firstChild","nextSibling","v","dangerouslySetInnerHTML","g","childNodes","w","C","N","__k","trim","insertBefore","L","lastChild","previousSibling","I","T","__b","__x","__r","base","componentWillMount","componentWillReceiveProps","__c","__p","syncComponentUpdates","__s","shouldComponentUpdate","componentWillUpdate","getChildContext","M","__u","unshift","componentDidUpdate","afterUpdate","__h","beforeUnmount","componentWillUnmount","Promise","resolve","then","setTimeout","forceUpdate","$","cloneElement","Component","rerender","options","pwNi","_preact","interopDefault","body","firstElementChild","init","app"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"pwNi\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"CUnC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// CONCATENATED MODULE: ./components/Hotspot.tsx\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nvar defaultContainerStyles = {\r\n    position: 'absolute',\r\n    display: 'table',\r\n    boxSizing: 'border-box',\r\n    outline: 'none'\r\n};\r\nvar defaultButtonsStyles = {\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: '100%',\r\n    appearance: 'none',\r\n    border: 'none',\r\n    display: 'table-cell',\r\n    verticalAlign: 'middle',\r\n    textAlign: 'center',\r\n    cursor: 'pointer',\r\n    wordBreak: 'break-all',\r\n    'textRendering': 'geometricPrecision'\r\n};\r\nvar defaultProps = {\r\n    styles: {}\r\n};\r\nfunction prepareUrl(url) {\r\n    if (!url.match(/^https?:\\/\\//i)) {\r\n        url = 'http://' + url;\r\n    }\r\n    return url;\r\n}\r\nvar Hotspot_Hotspot = /** @class */ (function (_super) {\r\n    __extends(Hotspot, _super);\r\n    function Hotspot() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            disableClick: true,\r\n            isReady: false\r\n        };\r\n        _this.isClickable = function () {\r\n            var onClick = _this.props.hotspot.onClick;\r\n            if (!onClick) {\r\n                return false;\r\n            }\r\n            switch (onClick.type) {\r\n                case 'jumpToTime':\r\n                    return typeof onClick.jumpToTime !== 'undefined';\r\n                case 'openUrl':\r\n                case 'openUrlInNewTab':\r\n                    return !!onClick.url;\r\n                default:\r\n                    return false;\r\n            }\r\n        };\r\n        _this.handleClick = function () {\r\n            var hotspot = _this.props.hotspot;\r\n            var disableClick = _this.state.disableClick;\r\n            if (!hotspot.onClick || disableClick) {\r\n                return;\r\n            }\r\n            switch (hotspot.onClick.type) {\r\n                case 'jumpToTime':\r\n                    if (typeof hotspot.onClick.jumpToTime === 'undefined') {\r\n                        return;\r\n                    }\r\n                    _this.props.seekTo(hotspot.onClick.jumpToTime / 1000);\r\n                    break;\r\n                case 'openUrl':\r\n                    {\r\n                        if (!hotspot.onClick.url) {\r\n                            return;\r\n                        }\r\n                        var url = prepareUrl(hotspot.onClick.url);\r\n                        window.open(url, '_top');\r\n                        _this.props.sendAnalytics({ eventNumber: 47, target: url, hotspotId: hotspot.id });\r\n                    }\r\n                    break;\r\n                case 'openUrlInNewTab':\r\n                    {\r\n                        if (!hotspot.onClick.url) {\r\n                            return;\r\n                        }\r\n                        _this.props.pauseVideo();\r\n                        var url = prepareUrl(hotspot.onClick.url);\r\n                        try {\r\n                            window.open(url, '_blank');\r\n                            _this.props.sendAnalytics({ eventNumber: 47, target: url, hotspotId: hotspot.id });\r\n                        }\r\n                        catch (e) {\r\n                            window.open(url, '_top');\r\n                        }\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    Hotspot.prototype.componentDidMount = function () {\r\n        var hotspot = this.props.hotspot;\r\n        if (!hotspot || !hotspot.onClick) {\r\n            this.setState({\r\n                isReady: true\r\n            });\r\n            return;\r\n        }\r\n        this.setState({\r\n            isReady: true,\r\n            disableClick: !this.isClickable()\r\n        });\r\n    };\r\n    Hotspot.prototype.render = function () {\r\n        var hotspot = this.props.hotspot;\r\n        var layout = hotspot.layout, label = hotspot.label;\r\n        var _a = this.state, isReady = _a.isReady, disableClick = _a.disableClick;\r\n        if (!isReady || !this.props.visible) {\r\n            return null;\r\n        }\r\n        var containerStyles = __assign({}, defaultContainerStyles, { top: layout.y, left: layout.x, height: layout.height, width: layout.width });\r\n        var buttonStyles = __assign({}, defaultButtonsStyles, hotspot.styles, { cursor: disableClick ? 'default' : 'pointer' });\r\n        return (Object(preact_min[\"h\"])(\"div\", { onClick: this.handleClick, style: containerStyles },\r\n            Object(preact_min[\"h\"])(\"div\", { style: buttonStyles }, label)));\r\n    };\r\n    Hotspot.defaultProps = defaultProps;\r\n    return Hotspot;\r\n}(preact_min[\"Component\"]));\r\n/* harmony default export */ var components_Hotspot = (Hotspot_Hotspot);\r\n\n// CONCATENATED MODULE: ./utils/logger.ts\nvar isEnabled = false;\r\nvar logPrefix = '';\r\nfunction enableLog(prefix) {\r\n    logPrefix = prefix || '';\r\n    isEnabled = true;\r\n}\r\nfunction log(level, context, message) {\r\n    var optionalParams = [];\r\n    for (var _i = 3; _i < arguments.length; _i++) {\r\n        optionalParams[_i - 3] = arguments[_i];\r\n    }\r\n    if (isEnabled) {\r\n        console[level].apply(console, [\"[\" + logPrefix + \"] [\" + level + \"]\" + (context ? \" [\" + context + \"]\" : '') + \" : \" + message].concat(optionalParams));\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./utils/hotspots-engine.ts\n\r\nvar ChangeTypes;\r\n(function (ChangeTypes) {\r\n    ChangeTypes[\"Show\"] = \"show\";\r\n    ChangeTypes[\"Hide\"] = \"hide\";\r\n})(ChangeTypes || (ChangeTypes = {}));\r\nvar reasonableSeekThreshold = 2000;\r\nfunction scaleVideo(videoWidth, videoHeight, playerWidth, playerHeight, fLetterBox) {\r\n    var result = { width: 0, height: 0, left: 0, top: 0, scaleToTargetWidth: true };\r\n    if ((videoWidth <= 0) || (videoHeight <= 0) || (playerWidth <= 0) || (playerHeight <= 0)) {\r\n        return result;\r\n    }\r\n    // scale to the target width\r\n    var scaleX1 = playerWidth;\r\n    var scaleY1 = (videoHeight * playerWidth) / videoWidth;\r\n    // scale to the target height\r\n    var scaleX2 = (videoWidth * playerHeight) / videoHeight;\r\n    var scaleY2 = playerHeight;\r\n    // now figure out which one we should use\r\n    var fScaleOnWidth = (scaleX2 > playerWidth);\r\n    if (fScaleOnWidth) {\r\n        fScaleOnWidth = fLetterBox;\r\n    }\r\n    else {\r\n        fScaleOnWidth = !fLetterBox;\r\n    }\r\n    if (fScaleOnWidth) {\r\n        result.width = Math.abs(scaleX1);\r\n        result.height = Math.abs(scaleY1);\r\n        result.scaleToTargetWidth = true;\r\n    }\r\n    else {\r\n        result.width = Math.abs(scaleX2);\r\n        result.height = Math.abs(scaleY2);\r\n        result.scaleToTargetWidth = false;\r\n    }\r\n    result.left = Math.abs((playerWidth - result.width) / 2);\r\n    result.top = Math.abs((playerHeight - result.height) / 2);\r\n    return result;\r\n}\r\nvar hotspots_engine_HotspotsEngine = /** @class */ (function () {\r\n    function HotspotsEngine(hotspots) {\r\n        this.isFirstTime = true;\r\n        this.hotspotsLayoutReady = false;\r\n        this.lastHandledTime = null;\r\n        this.lastHandledTimeIndex = null;\r\n        this.nextTimeToHandle = null;\r\n        this.hotspotsChanges = [];\r\n        this.playerSize = null;\r\n        this.videoSize = null;\r\n        log('debug', 'ctor', 'executed');\r\n        this.hotspots = hotspots; // NOTICE: it is the responsability of this engine not to return hotspot without layout\r\n        this.prepareHotspots();\r\n    }\r\n    HotspotsEngine.prototype.updateLayout = function (playerSize, videoSize) {\r\n        this.videoSize = videoSize;\r\n        this.playerSize = playerSize;\r\n        this.recalculateHotspotsLayout();\r\n        return this.lastHandledTimeIndex ? this.createHotspotsSnapshot(this.lastHandledTimeIndex) : [];\r\n    };\r\n    HotspotsEngine.prototype._calculateLayout = function (hotspot, scaleCalculation) {\r\n        var rawLayout = hotspot.rawLayout;\r\n        return {\r\n            x: scaleCalculation.left + rawLayout.relativeX * scaleCalculation.width,\r\n            y: scaleCalculation.top + rawLayout.relativeY * scaleCalculation.height,\r\n            width: rawLayout.relativeWidth * scaleCalculation.width,\r\n            height: rawLayout.relativeHeight * scaleCalculation.height\r\n        };\r\n    };\r\n    HotspotsEngine.prototype.recalculateHotspotsLayout = function () {\r\n        var _this = this;\r\n        log('debug', 'recalculateHotspotsLayout', \"calculating hotspots layout based on video/player sizes\");\r\n        if (!this.playerSize || !this.videoSize) {\r\n            log('debug', 'recalculateHotspotsLayout', \"missing video/player sizes, hide all hotspots\");\r\n            this.hotspotsLayoutReady = false;\r\n            return;\r\n        }\r\n        var _a = this.playerSize, playerWidth = _a.width, playerHeight = _a.height;\r\n        var _b = this.videoSize, videoWidth = _b.width, videoHeight = _b.height;\r\n        var canCalcaulateLayout = playerWidth && playerHeight && videoWidth && videoHeight;\r\n        if (!canCalcaulateLayout) {\r\n            log('debug', 'recalculateHotspotsLayout', \"missing video/player sizes, hide all hotspots\");\r\n            this.hotspotsLayoutReady = false;\r\n            return;\r\n        }\r\n        var scaleCalculation = scaleVideo(videoWidth, videoHeight, playerWidth, playerHeight, true);\r\n        log('debug', 'recalculateHotspotsLayout', \"recalculate hotspots layout based on new sizes\", scaleCalculation);\r\n        (this.hotspots || []).forEach(function (hotspot) {\r\n            hotspot.layout = _this._calculateLayout(hotspot, scaleCalculation);\r\n        });\r\n        this.hotspotsLayoutReady = true;\r\n    };\r\n    HotspotsEngine.prototype.getSnapshot = function (time) {\r\n        var timeIndex = this.findClosestLastIndexByTime(time);\r\n        log('debug', 'getSnapshot', \"create snapshot based on time \" + time, { timeIndex: timeIndex });\r\n        return this.createHotspotsSnapshot(timeIndex);\r\n    };\r\n    HotspotsEngine.prototype.updateTime = function (currentTime, forceSnapshot) {\r\n        if (forceSnapshot === void 0) { forceSnapshot = false; }\r\n        var _a = this, isFirstTime = _a.isFirstTime, lastHandledTime = _a.lastHandledTime, nextTimeToHandle = _a.nextTimeToHandle;\r\n        if (this.hotspotsChanges.length === 0) {\r\n            if (isFirstTime) {\r\n                log('log', 'updateTime', \"hotspots list empty. will always return empty snapshot\");\r\n                this.isFirstTime = false;\r\n            }\r\n            return { snapshot: [] };\r\n        }\r\n        var userSeeked = !isFirstTime && lastHandledTime !== null && nextTimeToHandle !== null && (lastHandledTime > currentTime || (currentTime - nextTimeToHandle) > reasonableSeekThreshold);\r\n        var hasChangesToHandle = isFirstTime || (this.lastHandledTime !== null && this.lastHandledTime > currentTime) || (this.nextTimeToHandle != null && currentTime >= this.nextTimeToHandle);\r\n        var closestChangeIndex = this.findClosestLastIndexByTime(currentTime);\r\n        var closestChangeTime = closestChangeIndex < 0 ? 0 : this.hotspotsChanges[closestChangeIndex].time;\r\n        if (!hasChangesToHandle) {\r\n            // log('log', 'updateTime', `new time is between handled time and next time to handle, assume no delta`);\r\n            if (forceSnapshot) {\r\n                return { snapshot: this.createHotspotsSnapshot(closestChangeIndex) };\r\n            }\r\n            return { delta: this.createEmptyDelta() };\r\n        }\r\n        log('debug', 'updateTime', \"has changes to handle. check if need to return snapshot instead of delta based on provided new time\", { currentTime: currentTime, closestChangeIndex: closestChangeIndex, closestChangeTime: closestChangeTime, lastHandledTime: lastHandledTime, nextTimeToHandle: nextTimeToHandle, isFirstTime: isFirstTime });\r\n        if (isFirstTime || forceSnapshot || userSeeked) {\r\n            log('debug', 'updateTime', \"some conditions doesn't allow returning delta, return snapshot instead\", { isFirstTime: isFirstTime, userSeeked: userSeeked, forceSnapshot: forceSnapshot });\r\n            var snapshot = this.createHotspotsSnapshot(closestChangeIndex);\r\n            this.updateInternals(closestChangeTime, closestChangeIndex);\r\n            return { snapshot: snapshot };\r\n        }\r\n        var delta = this.createHotspotsDelta(closestChangeIndex);\r\n        this.updateInternals(closestChangeTime, closestChangeIndex);\r\n        return { delta: delta };\r\n    };\r\n    HotspotsEngine.prototype.createHotspotsSnapshot = function (targetIndex) {\r\n        if (!this.hotspotsLayoutReady || targetIndex < 0 || !this.hotspotsChanges || this.hotspotsChanges.length === 0) {\r\n            log('log', 'createHotspotsSnapshot', \"resulted with empty snapshot\", {\r\n                targetIndex: targetIndex,\r\n                hotspotsLayoutReady: this.hotspotsLayoutReady,\r\n                hotspotsCount: (this.hotspotsChanges || []).length\r\n            });\r\n            return [];\r\n        }\r\n        var snapshot = [];\r\n        for (var index = 0; index <= targetIndex; index++) {\r\n            var item = this.hotspotsChanges[index];\r\n            var hotspotIndex = snapshot.indexOf(item.cuePoint);\r\n            if (item.type === ChangeTypes.Show) {\r\n                if (hotspotIndex === -1) {\r\n                    snapshot.push(item.cuePoint);\r\n                }\r\n            }\r\n            else {\r\n                if (hotspotIndex !== -1) {\r\n                    snapshot.splice(hotspotIndex, 1);\r\n                }\r\n            }\r\n        }\r\n        log('log', 'createHotspotsSnapshot', 'resulted snapshot', { snapshot: snapshot });\r\n        return snapshot;\r\n    };\r\n    HotspotsEngine.prototype.createHotspotsDelta = function (targetIndex) {\r\n        if (!this.hotspotsLayoutReady || !this.hotspotsChanges || this.hotspotsChanges.length === 0) {\r\n            log('log', 'createHotspotsDelta', \"resulted with empty delta\", {\r\n                hotspotsLayoutReady: this.hotspotsLayoutReady,\r\n                hotspotsCount: (this.hotspotsChanges || []).length\r\n            });\r\n            return this.createEmptyDelta();\r\n        }\r\n        var lastHandledTimeIndex = this.lastHandledTimeIndex;\r\n        if (lastHandledTimeIndex === null) {\r\n            log('log', 'createHotspotsDelta', \"invalid internal state. resulted with empty delta\");\r\n            return this.createEmptyDelta();\r\n        }\r\n        var newHotspots = [];\r\n        var removedHotspots = [];\r\n        log('log', 'createHotspotsDelta', \"find hotspots that were added or removed\");\r\n        for (var index = lastHandledTimeIndex + 1; index <= targetIndex; index++) {\r\n            var item = this.hotspotsChanges[index];\r\n            var hotspotIndex = newHotspots.indexOf(item.cuePoint);\r\n            if (item.type === ChangeTypes.Show) {\r\n                if (hotspotIndex === -1) {\r\n                    newHotspots.push(item.cuePoint);\r\n                }\r\n            }\r\n            else {\r\n                if (hotspotIndex !== -1) {\r\n                    log('log', 'createHotspotsDelta', \"hotspot was marked with type \" + item.type + \" at \" + item.time + \". remove from new hotspots list as it wasn't visible yet\", { hotspot: item.cuePoint });\r\n                    newHotspots.splice(hotspotIndex, 1);\r\n                }\r\n                else if (removedHotspots.indexOf(item.cuePoint) === -1) {\r\n                    log('log', 'createHotspotsDelta', \"hotspot was marked with type \" + item.type + \" at \" + item.time + \". add to removed hotspots list\", { hotspot: item.cuePoint });\r\n                    removedHotspots.push(item.cuePoint);\r\n                }\r\n            }\r\n        }\r\n        log('log', 'createHotspotsDelta', 'resulted delta', { newHotspots: newHotspots, removedHotspots: removedHotspots });\r\n        return { show: newHotspots, hide: removedHotspots };\r\n    };\r\n    HotspotsEngine.prototype.updateInternals = function (time, timeIndex) {\r\n        var hotspotsChanges = this.hotspotsChanges;\r\n        if (!hotspotsChanges || hotspotsChanges.length === 0) {\r\n            return;\r\n        }\r\n        var isIndexOfLastChange = timeIndex >= hotspotsChanges.length - 1;\r\n        var isIndexBeforeTheFirstChange = timeIndex === null;\r\n        this.lastHandledTime = time;\r\n        this.lastHandledTimeIndex = timeIndex;\r\n        this.nextTimeToHandle = isIndexBeforeTheFirstChange ? hotspotsChanges[0].time :\r\n            isIndexOfLastChange ? hotspotsChanges[hotspotsChanges.length - 1].time :\r\n                hotspotsChanges[timeIndex + 1].time;\r\n        this.isFirstTime = false;\r\n        log('debug', 'updateInternals', \"update inner state with new time and index\", {\r\n            lastHandledTime: this.lastHandledTime,\r\n            lastHandledTimeIndex: this.lastHandledTimeIndex,\r\n            nextTimeToHandle: this.nextTimeToHandle\r\n        });\r\n    };\r\n    HotspotsEngine.prototype.createEmptyDelta = function () {\r\n        return { show: [], hide: [] };\r\n    };\r\n    HotspotsEngine.prototype.binarySearch = function (items, value) {\r\n        if (!items || items.length === 0) {\r\n            // empty array, no index to return\r\n            return null;\r\n        }\r\n        if (value < items[0].time) {\r\n            // value less then the first item. return -1\r\n            return -1;\r\n        }\r\n        if (value > items[items.length - 1].time) {\r\n            // value bigger then the last item, return last item index\r\n            return items.length - 1;\r\n        }\r\n        var lo = 0;\r\n        var hi = items.length - 1;\r\n        while (lo <= hi) {\r\n            var mid = Math.floor((hi + lo + 1) / 2);\r\n            if (value < items[mid].time) {\r\n                hi = mid - 1;\r\n            }\r\n            else if (value > items[mid].time) {\r\n                lo = mid + 1;\r\n            }\r\n            else {\r\n                return mid;\r\n            }\r\n        }\r\n        return Math.min(lo, hi); // return the lowest index which represent the last visual item\r\n    };\r\n    HotspotsEngine.prototype.findClosestLastIndexByTime = function (time) {\r\n        var changes = this.hotspotsChanges;\r\n        var closestIndex = this.binarySearch(changes, time);\r\n        if (closestIndex === null) {\r\n            return -1;\r\n        }\r\n        var changesLength = changes.length;\r\n        while (closestIndex < changesLength - 1 && changes[closestIndex + 1].time === time) {\r\n            closestIndex++;\r\n        }\r\n        return closestIndex;\r\n    };\r\n    HotspotsEngine.prototype.prepareHotspots = function () {\r\n        var _this = this;\r\n        (this.hotspots || []).forEach(function (hotspot) {\r\n            if (hotspot.startTime !== null && typeof hotspot.startTime !== 'undefined' && hotspot.startTime >= 0) {\r\n                _this.hotspotsChanges.push({\r\n                    time: hotspot.startTime,\r\n                    type: ChangeTypes.Show,\r\n                    cuePoint: hotspot // NOTICE: it is the responsability of this engine not to return hotspot without layout\r\n                });\r\n            }\r\n            if (hotspot.endTime !== null && typeof hotspot.endTime !== 'undefined' && hotspot.endTime >= 0) {\r\n                _this.hotspotsChanges.push({\r\n                    time: hotspot.endTime,\r\n                    type: ChangeTypes.Hide,\r\n                    cuePoint: hotspot // NOTICE: it is the responsability of this engine not to return hotspot without layout\r\n                });\r\n            }\r\n        });\r\n        this.hotspotsChanges.sort(function (a, b) {\r\n            return a.time < b.time ? -1 : a.time === b.time ? 0 : 1;\r\n        });\r\n        log('debug', 'prepareHotspots', \"tracking \" + this.hotspotsChanges.length + \" changes\", this.hotspotsChanges);\r\n    };\r\n    return HotspotsEngine;\r\n}());\r\n\r\n\n// CONCATENATED MODULE: ./components/Stage.tsx\nvar Stage___extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar Stage___assign = (this && this.__assign) || function () {\r\n    Stage___assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return Stage___assign.apply(this, arguments);\r\n};\r\n\r\n\r\n\r\n\r\nvar NotifyEventTypes;\r\n(function (NotifyEventTypes) {\r\n    NotifyEventTypes[\"Monitor\"] = \"monitor\";\r\n    NotifyEventTypes[\"Seeked\"] = \"seeked\";\r\n})(NotifyEventTypes || (NotifyEventTypes = {}));\r\nvar PlayerUpdateEvent = \"updatePlayHeadPercent:hotspots\";\r\nvar Stage_Stage = /** @class */ (function (_super) {\r\n    Stage___extends(Stage, _super);\r\n    function Stage() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.engine = null;\r\n        _this.initialState = {\r\n            isLoading: false,\r\n            playerSize: _this.props.getPlayerSize(),\r\n            videoSize: _this.props.getVideoSize(),\r\n            visibleHotspots: [],\r\n            showHotspots: false,\r\n            hasError: false\r\n        };\r\n        _this.state = Stage___assign({}, _this.initialState);\r\n        _this.showHotspots = function () {\r\n            _this.setState({\r\n                showHotspots: true\r\n            });\r\n        };\r\n        _this.notify = function (event) {\r\n            switch (event.type) {\r\n                case NotifyEventTypes.Monitor:\r\n                case NotifyEventTypes.Seeked:\r\n                    _this.syncVisibleHotspots();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n        _this._handleCuepoints = function (result) {\r\n            var hotspots = result.hotspots, error = result.error;\r\n            if (error || !hotspots) {\r\n                log('error', '_handleCuepoints', 'failed to load cuepoints', { error: error ? error.message : 'missing hotspots array' });\r\n                _this.setState({\r\n                    isLoading: false,\r\n                    hasError: true,\r\n                });\r\n                return;\r\n            }\r\n            _this.engine = new hotspots_engine_HotspotsEngine(hotspots);\r\n            _this.engine.updateLayout(_this.state.playerSize, _this.state.videoSize);\r\n            _this.setState({\r\n                isLoading: false,\r\n                hasError: false,\r\n                visibleHotspots: []\r\n            }, function () {\r\n                _this.syncVisibleHotspots();\r\n            });\r\n        };\r\n        _this.handleResize = function () {\r\n            var _a = _this.props, getPlayerSize = _a.getPlayerSize, getVideoSize = _a.getVideoSize;\r\n            _this.setState({\r\n                playerSize: getPlayerSize(),\r\n                videoSize: getVideoSize()\r\n            }, function () {\r\n                if (_this.engine) {\r\n                    _this.engine.updateLayout(_this.state.playerSize, _this.state.videoSize);\r\n                    _this.syncVisibleHotspots(true);\r\n                }\r\n            });\r\n        };\r\n        _this.reset = function () {\r\n            _this.engine = null;\r\n            _this.setState(Stage___assign({}, _this.initialState), function () {\r\n                _this.props.loadCuePoints(_this._handleCuepoints);\r\n            });\r\n        };\r\n        _this.renderHotspots = function (visualHotspot) {\r\n            if (!visualHotspot) {\r\n                return null;\r\n            }\r\n            var _a = _this.props, seekTo = _a.seekTo, pauseVideo = _a.pauseVideo, sendAnalytics = _a.sendAnalytics;\r\n            return visualHotspot.map(function (hotspotData) { return (Object(preact_min[\"h\"])(components_Hotspot, { pauseVideo: pauseVideo, seekTo: seekTo, key: hotspotData.id, visible: true, hotspot: hotspotData, sendAnalytics: sendAnalytics })); });\r\n        };\r\n        return _this;\r\n    }\r\n    Stage.prototype.componentDidMount = function () {\r\n        this.reset();\r\n    };\r\n    Stage.prototype.syncVisibleHotspots = function (forceSnapshot) {\r\n        var _this = this;\r\n        if (forceSnapshot === void 0) { forceSnapshot = false; }\r\n        var getCurrentTime = this.props.getCurrentTime;\r\n        this.setState(function (state) {\r\n            if (!_this.engine) {\r\n                return {\r\n                    visibleHotspots: []\r\n                };\r\n            }\r\n            var hotspotsUpdate = _this.engine.updateTime(getCurrentTime(), forceSnapshot);\r\n            if (hotspotsUpdate.snapshot) {\r\n                return {\r\n                    visibleHotspots: hotspotsUpdate.snapshot\r\n                };\r\n            }\r\n            if (!hotspotsUpdate.delta) {\r\n                return {\r\n                    visibleHotspots: []\r\n                };\r\n            }\r\n            var _a = hotspotsUpdate.delta, show = _a.show, hide = _a.hide;\r\n            if (show.length !== 0 || hide.length !== 0) {\r\n                var visibleHotspots_1 = state.visibleHotspots;\r\n                show.forEach(function (hotspot) {\r\n                    var index = visibleHotspots_1.indexOf(hotspot);\r\n                    if (index === -1) {\r\n                        visibleHotspots_1.push(hotspot);\r\n                    }\r\n                });\r\n                hide.forEach(function (hotspot) {\r\n                    var index = visibleHotspots_1.indexOf(hotspot);\r\n                    if (index !== -1) {\r\n                        visibleHotspots_1.splice(index, 1);\r\n                    }\r\n                });\r\n                return {\r\n                    visibleHotspots: visibleHotspots_1\r\n                };\r\n            }\r\n        });\r\n    };\r\n    Stage.prototype.render = function () {\r\n        var _a = this.state, visibleHotspots = _a.visibleHotspots, showHotspots = _a.showHotspots;\r\n        var hotspotsElements = showHotspots ? this.renderHotspots(visibleHotspots) : null;\r\n        var style = {\r\n            position: 'absolute',\r\n            display: 'block',\r\n            overflow: 'visible',\r\n            top: 0,\r\n            left: 0,\r\n            width: 0,\r\n            height: 0\r\n        };\r\n        return (Object(preact_min[\"h\"])(\"div\", { style: style }, hotspotsElements));\r\n    };\r\n    return Stage;\r\n}(preact_min[\"Component\"]));\r\n/* harmony default export */ var components_Stage = (Stage_Stage);\r\n\n// CONCATENATED MODULE: ./player-v2/plugin.tsx\nvar plugin___assign = (this && this.__assign) || function () {\r\n    plugin___assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return plugin___assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n};\r\n//let poly = require(\"preact-cli/lib/lib/webpack/polyfills\");\r\n\r\n\r\n\r\n(function (mw, $) {\r\n    function toObject(jsonAsString, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = {}; }\r\n        if (!jsonAsString) {\r\n            return defaultValue;\r\n        }\r\n        try {\r\n            return { result: JSON.parse(jsonAsString) };\r\n        }\r\n        catch (e) {\r\n            return { error: e };\r\n        }\r\n    }\r\n    (function shouldEnableLogs() {\r\n        try {\r\n            if (document.URL.indexOf(\"debugVidiunPlayer\") !== -1) {\r\n                enableLog(\"hotspots\");\r\n            }\r\n        }\r\n        catch (e) {\r\n            // do nothing\r\n        }\r\n    })();\r\n    var WEBKIT_PLAYS_INLINE_KEY = \"EmbedPlayer.WebKitPlaysInline\";\r\n    function isIpad() {\r\n        return navigator.userAgent.indexOf(\"iPad\") != -1;\r\n    }\r\n    function isIphone() {\r\n        return navigator.userAgent.indexOf(\"iPhone\") != -1 && !isIpad();\r\n    }\r\n    mw.vidiunPluginWrapper(function () {\r\n        mw.PluginManager.add(\"hotspots\", mw.VBaseComponent.extend({\r\n            _root: null,\r\n            _videoSize: null,\r\n            _wasPlayed: false,\r\n            stage: null,\r\n            defaultConfig: {\r\n                parent: \"videoHolder\",\r\n                order: 1\r\n            },\r\n            handleVideoSizeChange: function (e) {\r\n                var _a = this.getPlayer().evaluate(\"{mediaProxy.entry}\"), width = _a.width, height = _a.height;\r\n                log(\"debug\", \"plugin.handleVideoSizeChange\", \"use entry size provided by player to calculate actual stage size\", { width: width, height: height });\r\n                if (!width || !height) {\r\n                    this._videoSize = null;\r\n                }\r\n                else {\r\n                    this._videoSize = { width: width, height: height };\r\n                }\r\n                this.stage.handleResize();\r\n            },\r\n            setup: function () {\r\n                if (isIphone()) {\r\n                    log(\"log\", \"setup\", \"iphone detected, disable plugin\");\r\n                    return;\r\n                }\r\n                this.addBindings();\r\n            },\r\n            seekTo: function (time) {\r\n                this.getPlayer().seek(time);\r\n            },\r\n            pauseVideo: function () {\r\n                this.getPlayer().sendNotification(\"doPause\");\r\n            },\r\n            getCuePoints: function () {\r\n                return this.cuePoints;\r\n            },\r\n            loadCuePoints: function (callback) {\r\n                var _this = this;\r\n                // do the api request\r\n                this.getVidiunClient().doRequest({\r\n                    service: \"cuepoint_cuepoint\",\r\n                    action: \"list\",\r\n                    \"filter:entryIdEqual\": this.getPlayer().ventryid,\r\n                    \"filter:objectType\": \"VidiunCuePointFilter\",\r\n                    \"filter:cuePointTypeEqual\": \"annotation.Annotation\",\r\n                    \"filter:tagsLike\": \"hotspots\"\r\n                }, function (data) {\r\n                    // if an error pop out:\r\n                    var hasError = !data || data.code;\r\n                    if (hasError) {\r\n                        callback({\r\n                            error: { message: data.code || \"failure\" }\r\n                        });\r\n                    }\r\n                    else {\r\n                        var hotspots = [];\r\n                        (data.objects || []).reduce(function (acc, cuePoint) {\r\n                            var _a = toObject(cuePoint.partnerData), partnerData = _a.result, error = _a.error;\r\n                            if (!partnerData ||\r\n                                !partnerData.schemaVersion) {\r\n                                log(\"warn\", \"loadCuePoints\", \"annotation '\" + cuePoint.partnerData.id + \"' has no schema version, skip annotation\");\r\n                                return acc;\r\n                            }\r\n                            var rawLayout = plugin___assign({}, partnerData.layout);\r\n                            acc.push({\r\n                                id: cuePoint.id,\r\n                                startTime: cuePoint.startTime,\r\n                                endTime: cuePoint.endTime,\r\n                                label: cuePoint.text,\r\n                                styles: partnerData.styles,\r\n                                onClick: partnerData.onClick,\r\n                                rawLayout: rawLayout\r\n                            });\r\n                            return acc;\r\n                        }, hotspots);\r\n                        callback({ hotspots: hotspots });\r\n                    }\r\n                });\r\n            },\r\n            getPlayerSize: function () {\r\n                var videoHolder = this.getPlayer().getVideoHolder();\r\n                if (!videoHolder) {\r\n                    return null;\r\n                }\r\n                var width = videoHolder.width();\r\n                var height = videoHolder.height();\r\n                return {\r\n                    width: width,\r\n                    height: height\r\n                };\r\n            },\r\n            sendAnalytics: function (event) {\r\n                try {\r\n                    var kanalonyPlugin = this.getPlayer().plugins.vAnalony;\r\n                    if (!kanalonyPlugin) {\r\n                        log(\"warn\", \"sendAnalytics\", \"cannot send analytics event, missing vAnalony plugin\", event);\r\n                        return;\r\n                    }\r\n                    var eventNumber = event.eventNumber, rest = __rest(event, [\"eventNumber\"]);\r\n                    kanalonyPlugin.sendAnalytics(eventNumber, rest);\r\n                }\r\n                catch (e) {\r\n                    log(\"error\", \"sendAnalytics\", \"cannot send analytics event with error '\" + e.message + \"'\", event);\r\n                }\r\n            },\r\n            getVideoSize: function () {\r\n                if (!this._videoSize) {\r\n                    return null;\r\n                }\r\n                return plugin___assign({}, this._videoSize);\r\n            },\r\n            addBindings: function () {\r\n                var _this = this;\r\n                this.bind(\"playerReady\", function () {\r\n                    var props = {\r\n                        getCurrentTime: _this._getCurrentTime.bind(_this),\r\n                        loadCuePoints: _this.loadCuePoints.bind(_this),\r\n                        getPlayerSize: _this.getPlayerSize.bind(_this),\r\n                        getVideoSize: _this.getVideoSize.bind(_this),\r\n                        pauseVideo: _this.pauseVideo.bind(_this),\r\n                        seekTo: _this.seekTo.bind(_this),\r\n                        sendAnalytics: _this.sendAnalytics.bind(_this)\r\n                    };\r\n                    _this._root = Object(preact_min[\"render\"])(Object(preact_min[\"h\"])(components_Stage, plugin___assign({}, props, { ref: function (ref) { return (_this.stage = ref); } })), jQuery('[id=\"hotspotsOverlay\"]')[0]);\r\n                });\r\n                this.bind(\"updateLayout\", function () {\r\n                    _this.stage.handleResize();\r\n                });\r\n                this.bind(\"firstPlay\", function () {\r\n                    if (!_this._wasPlayed) {\r\n                        _this.stage.showHotspots();\r\n                        _this._wasPlayed = true;\r\n                    }\r\n                });\r\n                this.bind(\"seeked\", function () {\r\n                    if (!_this._wasPlayed) {\r\n                        _this.stage.showHotspots();\r\n                        _this._wasPlayed = true;\r\n                    }\r\n                });\r\n                this.bind(\"onChangeMedia\", function () {\r\n                    // DEVELOPER NOTICE: this is the destruction place.\r\n                    _this._wasPlayed = false;\r\n                    _this._videoSize = null;\r\n                    Object(preact_min[\"render\"])(\r\n                    // @ts-ignore\r\n                    Object(preact_min[\"h\"])(null), jQuery('[id=\"hotspotsOverlay\"]')[0], _this._root);\r\n                    _this._root = null;\r\n                    _this.stage = null;\r\n                });\r\n                this.bind(\"monitorEvent\", function () {\r\n                    _this.stage.notify({ type: NotifyEventTypes.Monitor });\r\n                });\r\n                this.bind(\"mediaLoaded\", function () {\r\n                    _this.handleVideoSizeChange();\r\n                });\r\n                this.bind(\"seeked\", function () {\r\n                    _this.stage.notify({ type: NotifyEventTypes.Seeked });\r\n                });\r\n            },\r\n            _getCurrentTime: function () {\r\n                return this.getPlayer().currentTime * 1000;\r\n            },\r\n            getComponent: function () {\r\n                if (!this.$el) {\r\n                    this.$el = jQuery(\"<div></div>\")\r\n                        .attr(\"id\", \"hotspotsOverlay\")\r\n                        .css({\r\n                        position: \"absolute\",\r\n                        height: \"0\",\r\n                        width: \"0\",\r\n                        top: 0,\r\n                        left: 0,\r\n                        overflow: 'visible'\r\n                    });\r\n                }\r\n                return this.$el;\r\n            }\r\n        }));\r\n    });\r\n})(window.mw, window.jQuery);\r\n\n// CONCATENATED MODULE: ./player-v2/test.js\n\r\n\n\n/***/ }),\n\n/***/ \"KM04\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n!function () {\r\n    \"use strict\";\r\n    function e() { }\r\n    function t(t, n) {\r\n        var o, r, i, l, a = E;\r\n        for (l = arguments.length; l-- > 2;) {\r\n            W.push(arguments[l]);\r\n        }\r\n        n && null != n.children && (W.length || W.push(n.children), delete n.children);\r\n        while (W.length) {\r\n            if ((r = W.pop()) && void 0 !== r.pop)\r\n                for (l = r.length; l--;) {\r\n                    W.push(r[l]);\r\n                }\r\n            else\r\n                \"boolean\" == typeof r && (r = null), (i = \"function\" != typeof t) && (null == r ? r = \"\" : \"number\" == typeof r ? r += \"\" : \"string\" != typeof r && (i = !1)), i && o ? a[a.length - 1] += r : a === E ? a = [r] : a.push(r), o = i;\r\n        }\r\n        var u = new e();\r\n        return u.nodeName = t, u.children = a, u.attributes = null == n ? void 0 : n, u.key = null == n ? void 0 : n.key, void 0 !== S.vnode && S.vnode(u), u;\r\n    }\r\n    function n(e, t) {\r\n        for (var n in t) {\r\n            e[n] = t[n];\r\n        }\r\n        return e;\r\n    }\r\n    function o(e, o) {\r\n        return t(e.nodeName, n(n({}, e.attributes), o), arguments.length > 2 ? [].slice.call(arguments, 2) : e.children);\r\n    }\r\n    function r(e) {\r\n        !e.__d && (e.__d = !0) && 1 == A.push(e) && (S.debounceRendering || P)(i);\r\n    }\r\n    function i() {\r\n        var e, t = A;\r\n        A = [];\r\n        while (e = t.pop()) {\r\n            e.__d && k(e);\r\n        }\r\n    }\r\n    function l(e, t, n) {\r\n        return \"string\" == typeof t || \"number\" == typeof t ? void 0 !== e.splitText : \"string\" == typeof t.nodeName ? !e._componentConstructor && a(e, t.nodeName) : n || e._componentConstructor === t.nodeName;\r\n    }\r\n    function a(e, t) {\r\n        return e.__n === t || e.nodeName.toLowerCase() === t.toLowerCase();\r\n    }\r\n    function u(e) {\r\n        var t = n({}, e.attributes);\r\n        t.children = e.children;\r\n        var o = e.nodeName.defaultProps;\r\n        if (void 0 !== o)\r\n            for (var r in o) {\r\n                void 0 === t[r] && (t[r] = o[r]);\r\n            }\r\n        return t;\r\n    }\r\n    function _(e, t) {\r\n        var n = t ? document.createElementNS(\"http://www.w3.org/2000/svg\", e) : document.createElement(e);\r\n        return n.__n = e, n;\r\n    }\r\n    function p(e) {\r\n        var t = e.parentNode;\r\n        t && t.removeChild(e);\r\n    }\r\n    function c(e, t, n, o, r) {\r\n        if (\"className\" === t && (t = \"class\"), \"key\" === t)\r\n            ;\r\n        else if (\"ref\" === t)\r\n            n && n(null), o && o(e);\r\n        else if (\"class\" !== t || r) {\r\n            if (\"style\" === t) {\r\n                if (o && \"string\" != typeof o && \"string\" != typeof n || (e.style.cssText = o || \"\"), o && \"object\" == typeof o) {\r\n                    if (\"string\" != typeof n)\r\n                        for (var i in n) {\r\n                            i in o || (e.style[i] = \"\");\r\n                        }\r\n                    for (var i in o) {\r\n                        e.style[i] = \"number\" == typeof o[i] && !1 === V.test(i) ? o[i] + \"px\" : o[i];\r\n                    }\r\n                }\r\n            }\r\n            else if (\"dangerouslySetInnerHTML\" === t)\r\n                o && (e.innerHTML = o.__html || \"\");\r\n            else if (\"o\" == t[0] && \"n\" == t[1]) {\r\n                var l = t !== (t = t.replace(/Capture$/, \"\"));\r\n                t = t.toLowerCase().substring(2), o ? n || e.addEventListener(t, f, l) : e.removeEventListener(t, f, l), (e.__l || (e.__l = {}))[t] = o;\r\n            }\r\n            else if (\"list\" !== t && \"type\" !== t && !r && t in e)\r\n                s(e, t, null == o ? \"\" : o), null != o && !1 !== o || e.removeAttribute(t);\r\n            else {\r\n                var a = r && t !== (t = t.replace(/^xlink\\:?/, \"\"));\r\n                null == o || !1 === o ? a ? e.removeAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase()) : e.removeAttribute(t) : \"function\" != typeof o && (a ? e.setAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase(), o) : e.setAttribute(t, o));\r\n            }\r\n        }\r\n        else\r\n            e.className = o || \"\";\r\n    }\r\n    function s(e, t, n) {\r\n        try {\r\n            e[t] = n;\r\n        }\r\n        catch (e) { }\r\n    }\r\n    function f(e) {\r\n        return this.__l[e.type](S.event && S.event(e) || e);\r\n    }\r\n    function d() {\r\n        var e;\r\n        while (e = D.pop()) {\r\n            S.afterMount && S.afterMount(e), e.componentDidMount && e.componentDidMount();\r\n        }\r\n    }\r\n    function h(e, t, n, o, r, i) {\r\n        H++ || (R = null != r && void 0 !== r.ownerSVGElement, j = null != e && !(\"__preactattr_\" in e));\r\n        var l = m(e, t, n, o, i);\r\n        return r && l.parentNode !== r && r.appendChild(l), --H || (j = !1, i || d()), l;\r\n    }\r\n    function m(e, t, n, o, r) {\r\n        var i = e, l = R;\r\n        if (null != t && \"boolean\" != typeof t || (t = \"\"), \"string\" == typeof t || \"number\" == typeof t)\r\n            return e && void 0 !== e.splitText && e.parentNode && (!e._component || r) ? e.nodeValue != t && (e.nodeValue = t) : (i = document.createTextNode(t), e && (e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0))), i.__preactattr_ = !0, i;\r\n        var u = t.nodeName;\r\n        if (\"function\" == typeof u)\r\n            return U(e, t, n, o);\r\n        if (R = \"svg\" === u || \"foreignObject\" !== u && R, u += \"\", (!e || !a(e, u)) && (i = _(u, R), e)) {\r\n            while (e.firstChild) {\r\n                i.appendChild(e.firstChild);\r\n            }\r\n            e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0);\r\n        }\r\n        var p = i.firstChild, c = i.__preactattr_, s = t.children;\r\n        if (null == c) {\r\n            c = i.__preactattr_ = {};\r\n            for (var f = i.attributes, d = f.length; d--;) {\r\n                c[f[d].name] = f[d].value;\r\n            }\r\n        }\r\n        return !j && s && 1 === s.length && \"string\" == typeof s[0] && null != p && void 0 !== p.splitText && null == p.nextSibling ? p.nodeValue != s[0] && (p.nodeValue = s[0]) : (s && s.length || null != p) && v(i, s, n, o, j || null != c.dangerouslySetInnerHTML), g(i, t.attributes, c), R = l, i;\r\n    }\r\n    function v(e, t, n, o, r) {\r\n        var i, a, u, _, c, s = e.childNodes, f = [], d = {}, h = 0, v = 0, y = s.length, g = 0, w = t ? t.length : 0;\r\n        if (0 !== y)\r\n            for (var C = 0; C < y; C++) {\r\n                var x = s[C], N = x.__preactattr_, k = w && N ? x._component ? x._component.__k : N.key : null;\r\n                null != k ? (h++, d[k] = x) : (N || (void 0 !== x.splitText ? !r || x.nodeValue.trim() : r)) && (f[g++] = x);\r\n            }\r\n        if (0 !== w)\r\n            for (var C = 0; C < w; C++) {\r\n                _ = t[C], c = null;\r\n                var k = _.key;\r\n                if (null != k)\r\n                    h && void 0 !== d[k] && (c = d[k], d[k] = void 0, h--);\r\n                else if (!c && v < g)\r\n                    for (i = v; i < g; i++) {\r\n                        if (void 0 !== f[i] && l(a = f[i], _, r)) {\r\n                            c = a, f[i] = void 0, i === g - 1 && g--, i === v && v++;\r\n                            break;\r\n                        }\r\n                    }\r\n                c = m(c, _, n, o), u = s[C], c && c !== e && c !== u && (null == u ? e.appendChild(c) : c === u.nextSibling ? p(u) : e.insertBefore(c, u));\r\n            }\r\n        if (h)\r\n            for (var C in d) {\r\n                void 0 !== d[C] && b(d[C], !1);\r\n            }\r\n        while (v <= g) {\r\n            void 0 !== (c = f[g--]) && b(c, !1);\r\n        }\r\n    }\r\n    function b(e, t) {\r\n        var n = e._component;\r\n        n ? L(n) : (null != e.__preactattr_ && e.__preactattr_.ref && e.__preactattr_.ref(null), !1 !== t && null != e.__preactattr_ || p(e), y(e));\r\n    }\r\n    function y(e) {\r\n        e = e.lastChild;\r\n        while (e) {\r\n            var t = e.previousSibling;\r\n            b(e, !0), e = t;\r\n        }\r\n    }\r\n    function g(e, t, n) {\r\n        var o;\r\n        for (o in n) {\r\n            t && null != t[o] || null == n[o] || c(e, o, n[o], n[o] = void 0, R);\r\n        }\r\n        for (o in t) {\r\n            \"children\" === o || \"innerHTML\" === o || o in n && t[o] === (\"value\" === o || \"checked\" === o ? e[o] : n[o]) || c(e, o, n[o], n[o] = t[o], R);\r\n        }\r\n    }\r\n    function w(e) {\r\n        var t = e.constructor.name;\r\n        (I[t] || (I[t] = [])).push(e);\r\n    }\r\n    function C(e, t, n) {\r\n        var o, r = I[e.name];\r\n        if (e.prototype && e.prototype.render ? (o = new e(t, n), T.call(o, t, n)) : (o = new T(t, n), o.constructor = e, o.render = x), r)\r\n            for (var i = r.length; i--;) {\r\n                if (r[i].constructor === e) {\r\n                    o.__b = r[i].__b, r.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        return o;\r\n    }\r\n    function x(e, t, n) {\r\n        return this.constructor(e, n);\r\n    }\r\n    function N(e, t, n, o, i) {\r\n        e.__x || (e.__x = !0, (e.__r = t.ref) && delete t.ref, (e.__k = t.key) && delete t.key, !e.base || i ? e.componentWillMount && e.componentWillMount() : e.componentWillReceiveProps && e.componentWillReceiveProps(t, o), o && o !== e.context && (e.__c || (e.__c = e.context), e.context = o), e.__p || (e.__p = e.props), e.props = t, e.__x = !1, 0 !== n && (1 !== n && !1 === S.syncComponentUpdates && e.base ? r(e) : k(e, 1, i)), e.__r && e.__r(e));\r\n    }\r\n    function k(e, t, o, r) {\r\n        if (!e.__x) {\r\n            var i, l, a, _ = e.props, p = e.state, c = e.context, s = e.__p || _, f = e.__s || p, m = e.__c || c, v = e.base, y = e.__b, g = v || y, w = e._component, x = !1;\r\n            if (v && (e.props = s, e.state = f, e.context = m, 2 !== t && e.shouldComponentUpdate && !1 === e.shouldComponentUpdate(_, p, c) ? x = !0 : e.componentWillUpdate && e.componentWillUpdate(_, p, c), e.props = _, e.state = p, e.context = c), e.__p = e.__s = e.__c = e.__b = null, e.__d = !1, !x) {\r\n                i = e.render(_, p, c), e.getChildContext && (c = n(n({}, c), e.getChildContext()));\r\n                var U, T, M = i && i.nodeName;\r\n                if (\"function\" == typeof M) {\r\n                    var W = u(i);\r\n                    l = w, l && l.constructor === M && W.key == l.__k ? N(l, W, 1, c, !1) : (U = l, e._component = l = C(M, W, c), l.__b = l.__b || y, l.__u = e, N(l, W, 0, c, !1), k(l, 1, o, !0)), T = l.base;\r\n                }\r\n                else\r\n                    a = g, U = w, U && (a = e._component = null), (g || 1 === t) && (a && (a._component = null), T = h(a, i, c, o || !v, g && g.parentNode, !0));\r\n                if (g && T !== g && l !== w) {\r\n                    var E = g.parentNode;\r\n                    E && T !== E && (E.replaceChild(T, g), U || (g._component = null, b(g, !1)));\r\n                }\r\n                if (U && L(U), e.base = T, T && !r) {\r\n                    var P = e, V = e;\r\n                    while (V = V.__u) {\r\n                        (P = V).base = T;\r\n                    }\r\n                    T._component = P, T._componentConstructor = P.constructor;\r\n                }\r\n            }\r\n            if (!v || o ? D.unshift(e) : x || (e.componentDidUpdate && e.componentDidUpdate(s, f, m), S.afterUpdate && S.afterUpdate(e)), null != e.__h)\r\n                while (e.__h.length) {\r\n                    e.__h.pop().call(e);\r\n                }\r\n            H || r || d();\r\n        }\r\n    }\r\n    function U(e, t, n, o) {\r\n        var r = e && e._component, i = r, l = e, a = r && e._componentConstructor === t.nodeName, _ = a, p = u(t);\r\n        while (r && !_ && (r = r.__u)) {\r\n            _ = r.constructor === t.nodeName;\r\n        }\r\n        return r && _ && (!o || r._component) ? (N(r, p, 3, n, o), e = r.base) : (i && !a && (L(i), e = l = null), r = C(t.nodeName, p, n), e && !r.__b && (r.__b = e, l = null), N(r, p, 1, n, o), e = r.base, l && e !== l && (l._component = null, b(l, !1))), e;\r\n    }\r\n    function L(e) {\r\n        S.beforeUnmount && S.beforeUnmount(e);\r\n        var t = e.base;\r\n        e.__x = !0, e.componentWillUnmount && e.componentWillUnmount(), e.base = null;\r\n        var n = e._component;\r\n        n ? L(n) : t && (t.__preactattr_ && t.__preactattr_.ref && t.__preactattr_.ref(null), e.__b = t, p(t), w(e), y(t)), e.__r && e.__r(null);\r\n    }\r\n    function T(e, t) {\r\n        this.__d = !0, this.context = t, this.props = e, this.state = this.state || {};\r\n    }\r\n    function M(e, t, n) {\r\n        return h(n, e, {}, !1, t, !1);\r\n    }\r\n    var S = {}, W = [], E = [], P = \"function\" == typeof Promise ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout, V = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i, A = [], D = [], H = 0, R = !1, j = !1, I = {};\r\n    n(T.prototype, { setState: function setState(e, t) {\r\n            var o = this.state;\r\n            this.__s || (this.__s = n({}, o)), n(o, \"function\" == typeof e ? e(o, this.props) : e), t && (this.__h = this.__h || []).push(t), r(this);\r\n        }, forceUpdate: function forceUpdate(e) {\r\n            e && (this.__h = this.__h || []).push(e), k(this, 2);\r\n        }, render: function render() { } });\r\n    var $ = { h: t, createElement: t, cloneElement: o, Component: T, render: M, rerender: i, options: S };\r\n     true ? module.exports = $ : self.preact = $;\r\n}();\r\n//# sourceMappingURL=preact.min.js.map\r\n\n\n/***/ }),\n\n/***/ \"pwNi\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar _preact = __webpack_require__(\"KM04\");\r\nif (false) {\r\n    require('preact/devtools');\r\n}\r\nelse if (false) {\r\n    navigator.serviceWorker.register(__webpack_public_path__ + 'sw.js');\r\n}\r\nvar interopDefault = function interopDefault(m) {\r\n    return m && m[\"default\"] ? m[\"default\"] : m;\r\n};\r\nvar app = interopDefault(__webpack_require__(\"CUnC\"));\r\nif (typeof app === 'function') {\r\n    var root = document.body.firstElementChild;\r\n    var init = function init() {\r\n        var app = interopDefault(__webpack_require__(\"CUnC\"));\r\n        root = (0, _preact.render)((0, _preact.h)(app), document.body, root);\r\n    };\r\n    if (false)\r\n        module.hot.accept('preact-cli-entrypoint', init);\r\n    init();\r\n}\r\n\n\n/***/ })\n\n/******/ });\n});\n\n\n// WEBPACK FOOTER //\n// bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"pwNi\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 139b50b3d67590617b40","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { h, Component } from \"preact\";\r\nvar defaultContainerStyles = {\r\n    position: 'absolute',\r\n    display: 'table',\r\n    boxSizing: 'border-box',\r\n    outline: 'none'\r\n};\r\nvar defaultButtonsStyles = {\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: '100%',\r\n    appearance: 'none',\r\n    border: 'none',\r\n    display: 'table-cell',\r\n    verticalAlign: 'middle',\r\n    textAlign: 'center',\r\n    cursor: 'pointer',\r\n    wordBreak: 'break-all',\r\n    'textRendering': 'geometricPrecision'\r\n};\r\nvar defaultProps = {\r\n    styles: {}\r\n};\r\nfunction prepareUrl(url) {\r\n    if (!url.match(/^https?:\\/\\//i)) {\r\n        url = 'http://' + url;\r\n    }\r\n    return url;\r\n}\r\nvar Hotspot = /** @class */ (function (_super) {\r\n    __extends(Hotspot, _super);\r\n    function Hotspot() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            disableClick: true,\r\n            isReady: false\r\n        };\r\n        _this.isClickable = function () {\r\n            var onClick = _this.props.hotspot.onClick;\r\n            if (!onClick) {\r\n                return false;\r\n            }\r\n            switch (onClick.type) {\r\n                case 'jumpToTime':\r\n                    return typeof onClick.jumpToTime !== 'undefined';\r\n                case 'openUrl':\r\n                case 'openUrlInNewTab':\r\n                    return !!onClick.url;\r\n                default:\r\n                    return false;\r\n            }\r\n        };\r\n        _this.handleClick = function () {\r\n            var hotspot = _this.props.hotspot;\r\n            var disableClick = _this.state.disableClick;\r\n            if (!hotspot.onClick || disableClick) {\r\n                return;\r\n            }\r\n            switch (hotspot.onClick.type) {\r\n                case 'jumpToTime':\r\n                    if (typeof hotspot.onClick.jumpToTime === 'undefined') {\r\n                        return;\r\n                    }\r\n                    _this.props.seekTo(hotspot.onClick.jumpToTime / 1000);\r\n                    break;\r\n                case 'openUrl':\r\n                    {\r\n                        if (!hotspot.onClick.url) {\r\n                            return;\r\n                        }\r\n                        var url = prepareUrl(hotspot.onClick.url);\r\n                        window.open(url, '_top');\r\n                        _this.props.sendAnalytics({ eventNumber: 47, target: url, hotspotId: hotspot.id });\r\n                    }\r\n                    break;\r\n                case 'openUrlInNewTab':\r\n                    {\r\n                        if (!hotspot.onClick.url) {\r\n                            return;\r\n                        }\r\n                        _this.props.pauseVideo();\r\n                        var url = prepareUrl(hotspot.onClick.url);\r\n                        try {\r\n                            window.open(url, '_blank');\r\n                            _this.props.sendAnalytics({ eventNumber: 47, target: url, hotspotId: hotspot.id });\r\n                        }\r\n                        catch (e) {\r\n                            window.open(url, '_top');\r\n                        }\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    Hotspot.prototype.componentDidMount = function () {\r\n        var hotspot = this.props.hotspot;\r\n        if (!hotspot || !hotspot.onClick) {\r\n            this.setState({\r\n                isReady: true\r\n            });\r\n            return;\r\n        }\r\n        this.setState({\r\n            isReady: true,\r\n            disableClick: !this.isClickable()\r\n        });\r\n    };\r\n    Hotspot.prototype.render = function () {\r\n        var hotspot = this.props.hotspot;\r\n        var layout = hotspot.layout, label = hotspot.label;\r\n        var _a = this.state, isReady = _a.isReady, disableClick = _a.disableClick;\r\n        if (!isReady || !this.props.visible) {\r\n            return null;\r\n        }\r\n        var containerStyles = __assign({}, defaultContainerStyles, { top: layout.y, left: layout.x, height: layout.height, width: layout.width });\r\n        var buttonStyles = __assign({}, defaultButtonsStyles, hotspot.styles, { cursor: disableClick ? 'default' : 'pointer' });\r\n        return (h(\"div\", { onClick: this.handleClick, style: containerStyles },\r\n            h(\"div\", { style: buttonStyles }, label)));\r\n    };\r\n    Hotspot.defaultProps = defaultProps;\r\n    return Hotspot;\r\n}(Component));\r\nexport default Hotspot;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Hotspot.tsx\n// module id = null\n// module chunks = ","var isEnabled = false;\r\nvar logPrefix = '';\r\nexport function enableLog(prefix) {\r\n    logPrefix = prefix || '';\r\n    isEnabled = true;\r\n}\r\nexport function log(level, context, message) {\r\n    var optionalParams = [];\r\n    for (var _i = 3; _i < arguments.length; _i++) {\r\n        optionalParams[_i - 3] = arguments[_i];\r\n    }\r\n    if (isEnabled) {\r\n        console[level].apply(console, [\"[\" + logPrefix + \"] [\" + level + \"]\" + (context ? \" [\" + context + \"]\" : '') + \" : \" + message].concat(optionalParams));\r\n    }\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/logger.ts\n// module id = null\n// module chunks = ","import { log } from './logger';\r\nvar ChangeTypes;\r\n(function (ChangeTypes) {\r\n    ChangeTypes[\"Show\"] = \"show\";\r\n    ChangeTypes[\"Hide\"] = \"hide\";\r\n})(ChangeTypes || (ChangeTypes = {}));\r\nvar reasonableSeekThreshold = 2000;\r\nfunction scaleVideo(videoWidth, videoHeight, playerWidth, playerHeight, fLetterBox) {\r\n    var result = { width: 0, height: 0, left: 0, top: 0, scaleToTargetWidth: true };\r\n    if ((videoWidth <= 0) || (videoHeight <= 0) || (playerWidth <= 0) || (playerHeight <= 0)) {\r\n        return result;\r\n    }\r\n    // scale to the target width\r\n    var scaleX1 = playerWidth;\r\n    var scaleY1 = (videoHeight * playerWidth) / videoWidth;\r\n    // scale to the target height\r\n    var scaleX2 = (videoWidth * playerHeight) / videoHeight;\r\n    var scaleY2 = playerHeight;\r\n    // now figure out which one we should use\r\n    var fScaleOnWidth = (scaleX2 > playerWidth);\r\n    if (fScaleOnWidth) {\r\n        fScaleOnWidth = fLetterBox;\r\n    }\r\n    else {\r\n        fScaleOnWidth = !fLetterBox;\r\n    }\r\n    if (fScaleOnWidth) {\r\n        result.width = Math.abs(scaleX1);\r\n        result.height = Math.abs(scaleY1);\r\n        result.scaleToTargetWidth = true;\r\n    }\r\n    else {\r\n        result.width = Math.abs(scaleX2);\r\n        result.height = Math.abs(scaleY2);\r\n        result.scaleToTargetWidth = false;\r\n    }\r\n    result.left = Math.abs((playerWidth - result.width) / 2);\r\n    result.top = Math.abs((playerHeight - result.height) / 2);\r\n    return result;\r\n}\r\nvar HotspotsEngine = /** @class */ (function () {\r\n    function HotspotsEngine(hotspots) {\r\n        this.isFirstTime = true;\r\n        this.hotspotsLayoutReady = false;\r\n        this.lastHandledTime = null;\r\n        this.lastHandledTimeIndex = null;\r\n        this.nextTimeToHandle = null;\r\n        this.hotspotsChanges = [];\r\n        this.playerSize = null;\r\n        this.videoSize = null;\r\n        log('debug', 'ctor', 'executed');\r\n        this.hotspots = hotspots; // NOTICE: it is the responsability of this engine not to return hotspot without layout\r\n        this.prepareHotspots();\r\n    }\r\n    HotspotsEngine.prototype.updateLayout = function (playerSize, videoSize) {\r\n        this.videoSize = videoSize;\r\n        this.playerSize = playerSize;\r\n        this.recalculateHotspotsLayout();\r\n        return this.lastHandledTimeIndex ? this.createHotspotsSnapshot(this.lastHandledTimeIndex) : [];\r\n    };\r\n    HotspotsEngine.prototype._calculateLayout = function (hotspot, scaleCalculation) {\r\n        var rawLayout = hotspot.rawLayout;\r\n        return {\r\n            x: scaleCalculation.left + rawLayout.relativeX * scaleCalculation.width,\r\n            y: scaleCalculation.top + rawLayout.relativeY * scaleCalculation.height,\r\n            width: rawLayout.relativeWidth * scaleCalculation.width,\r\n            height: rawLayout.relativeHeight * scaleCalculation.height\r\n        };\r\n    };\r\n    HotspotsEngine.prototype.recalculateHotspotsLayout = function () {\r\n        var _this = this;\r\n        log('debug', 'recalculateHotspotsLayout', \"calculating hotspots layout based on video/player sizes\");\r\n        if (!this.playerSize || !this.videoSize) {\r\n            log('debug', 'recalculateHotspotsLayout', \"missing video/player sizes, hide all hotspots\");\r\n            this.hotspotsLayoutReady = false;\r\n            return;\r\n        }\r\n        var _a = this.playerSize, playerWidth = _a.width, playerHeight = _a.height;\r\n        var _b = this.videoSize, videoWidth = _b.width, videoHeight = _b.height;\r\n        var canCalcaulateLayout = playerWidth && playerHeight && videoWidth && videoHeight;\r\n        if (!canCalcaulateLayout) {\r\n            log('debug', 'recalculateHotspotsLayout', \"missing video/player sizes, hide all hotspots\");\r\n            this.hotspotsLayoutReady = false;\r\n            return;\r\n        }\r\n        var scaleCalculation = scaleVideo(videoWidth, videoHeight, playerWidth, playerHeight, true);\r\n        log('debug', 'recalculateHotspotsLayout', \"recalculate hotspots layout based on new sizes\", scaleCalculation);\r\n        (this.hotspots || []).forEach(function (hotspot) {\r\n            hotspot.layout = _this._calculateLayout(hotspot, scaleCalculation);\r\n        });\r\n        this.hotspotsLayoutReady = true;\r\n    };\r\n    HotspotsEngine.prototype.getSnapshot = function (time) {\r\n        var timeIndex = this.findClosestLastIndexByTime(time);\r\n        log('debug', 'getSnapshot', \"create snapshot based on time \" + time, { timeIndex: timeIndex });\r\n        return this.createHotspotsSnapshot(timeIndex);\r\n    };\r\n    HotspotsEngine.prototype.updateTime = function (currentTime, forceSnapshot) {\r\n        if (forceSnapshot === void 0) { forceSnapshot = false; }\r\n        var _a = this, isFirstTime = _a.isFirstTime, lastHandledTime = _a.lastHandledTime, nextTimeToHandle = _a.nextTimeToHandle;\r\n        if (this.hotspotsChanges.length === 0) {\r\n            if (isFirstTime) {\r\n                log('log', 'updateTime', \"hotspots list empty. will always return empty snapshot\");\r\n                this.isFirstTime = false;\r\n            }\r\n            return { snapshot: [] };\r\n        }\r\n        var userSeeked = !isFirstTime && lastHandledTime !== null && nextTimeToHandle !== null && (lastHandledTime > currentTime || (currentTime - nextTimeToHandle) > reasonableSeekThreshold);\r\n        var hasChangesToHandle = isFirstTime || (this.lastHandledTime !== null && this.lastHandledTime > currentTime) || (this.nextTimeToHandle != null && currentTime >= this.nextTimeToHandle);\r\n        var closestChangeIndex = this.findClosestLastIndexByTime(currentTime);\r\n        var closestChangeTime = closestChangeIndex < 0 ? 0 : this.hotspotsChanges[closestChangeIndex].time;\r\n        if (!hasChangesToHandle) {\r\n            // log('log', 'updateTime', `new time is between handled time and next time to handle, assume no delta`);\r\n            if (forceSnapshot) {\r\n                return { snapshot: this.createHotspotsSnapshot(closestChangeIndex) };\r\n            }\r\n            return { delta: this.createEmptyDelta() };\r\n        }\r\n        log('debug', 'updateTime', \"has changes to handle. check if need to return snapshot instead of delta based on provided new time\", { currentTime: currentTime, closestChangeIndex: closestChangeIndex, closestChangeTime: closestChangeTime, lastHandledTime: lastHandledTime, nextTimeToHandle: nextTimeToHandle, isFirstTime: isFirstTime });\r\n        if (isFirstTime || forceSnapshot || userSeeked) {\r\n            log('debug', 'updateTime', \"some conditions doesn't allow returning delta, return snapshot instead\", { isFirstTime: isFirstTime, userSeeked: userSeeked, forceSnapshot: forceSnapshot });\r\n            var snapshot = this.createHotspotsSnapshot(closestChangeIndex);\r\n            this.updateInternals(closestChangeTime, closestChangeIndex);\r\n            return { snapshot: snapshot };\r\n        }\r\n        var delta = this.createHotspotsDelta(closestChangeIndex);\r\n        this.updateInternals(closestChangeTime, closestChangeIndex);\r\n        return { delta: delta };\r\n    };\r\n    HotspotsEngine.prototype.createHotspotsSnapshot = function (targetIndex) {\r\n        if (!this.hotspotsLayoutReady || targetIndex < 0 || !this.hotspotsChanges || this.hotspotsChanges.length === 0) {\r\n            log('log', 'createHotspotsSnapshot', \"resulted with empty snapshot\", {\r\n                targetIndex: targetIndex,\r\n                hotspotsLayoutReady: this.hotspotsLayoutReady,\r\n                hotspotsCount: (this.hotspotsChanges || []).length\r\n            });\r\n            return [];\r\n        }\r\n        var snapshot = [];\r\n        for (var index = 0; index <= targetIndex; index++) {\r\n            var item = this.hotspotsChanges[index];\r\n            var hotspotIndex = snapshot.indexOf(item.cuePoint);\r\n            if (item.type === ChangeTypes.Show) {\r\n                if (hotspotIndex === -1) {\r\n                    snapshot.push(item.cuePoint);\r\n                }\r\n            }\r\n            else {\r\n                if (hotspotIndex !== -1) {\r\n                    snapshot.splice(hotspotIndex, 1);\r\n                }\r\n            }\r\n        }\r\n        log('log', 'createHotspotsSnapshot', 'resulted snapshot', { snapshot: snapshot });\r\n        return snapshot;\r\n    };\r\n    HotspotsEngine.prototype.createHotspotsDelta = function (targetIndex) {\r\n        if (!this.hotspotsLayoutReady || !this.hotspotsChanges || this.hotspotsChanges.length === 0) {\r\n            log('log', 'createHotspotsDelta', \"resulted with empty delta\", {\r\n                hotspotsLayoutReady: this.hotspotsLayoutReady,\r\n                hotspotsCount: (this.hotspotsChanges || []).length\r\n            });\r\n            return this.createEmptyDelta();\r\n        }\r\n        var lastHandledTimeIndex = this.lastHandledTimeIndex;\r\n        if (lastHandledTimeIndex === null) {\r\n            log('log', 'createHotspotsDelta', \"invalid internal state. resulted with empty delta\");\r\n            return this.createEmptyDelta();\r\n        }\r\n        var newHotspots = [];\r\n        var removedHotspots = [];\r\n        log('log', 'createHotspotsDelta', \"find hotspots that were added or removed\");\r\n        for (var index = lastHandledTimeIndex + 1; index <= targetIndex; index++) {\r\n            var item = this.hotspotsChanges[index];\r\n            var hotspotIndex = newHotspots.indexOf(item.cuePoint);\r\n            if (item.type === ChangeTypes.Show) {\r\n                if (hotspotIndex === -1) {\r\n                    newHotspots.push(item.cuePoint);\r\n                }\r\n            }\r\n            else {\r\n                if (hotspotIndex !== -1) {\r\n                    log('log', 'createHotspotsDelta', \"hotspot was marked with type \" + item.type + \" at \" + item.time + \". remove from new hotspots list as it wasn't visible yet\", { hotspot: item.cuePoint });\r\n                    newHotspots.splice(hotspotIndex, 1);\r\n                }\r\n                else if (removedHotspots.indexOf(item.cuePoint) === -1) {\r\n                    log('log', 'createHotspotsDelta', \"hotspot was marked with type \" + item.type + \" at \" + item.time + \". add to removed hotspots list\", { hotspot: item.cuePoint });\r\n                    removedHotspots.push(item.cuePoint);\r\n                }\r\n            }\r\n        }\r\n        log('log', 'createHotspotsDelta', 'resulted delta', { newHotspots: newHotspots, removedHotspots: removedHotspots });\r\n        return { show: newHotspots, hide: removedHotspots };\r\n    };\r\n    HotspotsEngine.prototype.updateInternals = function (time, timeIndex) {\r\n        var hotspotsChanges = this.hotspotsChanges;\r\n        if (!hotspotsChanges || hotspotsChanges.length === 0) {\r\n            return;\r\n        }\r\n        var isIndexOfLastChange = timeIndex >= hotspotsChanges.length - 1;\r\n        var isIndexBeforeTheFirstChange = timeIndex === null;\r\n        this.lastHandledTime = time;\r\n        this.lastHandledTimeIndex = timeIndex;\r\n        this.nextTimeToHandle = isIndexBeforeTheFirstChange ? hotspotsChanges[0].time :\r\n            isIndexOfLastChange ? hotspotsChanges[hotspotsChanges.length - 1].time :\r\n                hotspotsChanges[timeIndex + 1].time;\r\n        this.isFirstTime = false;\r\n        log('debug', 'updateInternals', \"update inner state with new time and index\", {\r\n            lastHandledTime: this.lastHandledTime,\r\n            lastHandledTimeIndex: this.lastHandledTimeIndex,\r\n            nextTimeToHandle: this.nextTimeToHandle\r\n        });\r\n    };\r\n    HotspotsEngine.prototype.createEmptyDelta = function () {\r\n        return { show: [], hide: [] };\r\n    };\r\n    HotspotsEngine.prototype.binarySearch = function (items, value) {\r\n        if (!items || items.length === 0) {\r\n            // empty array, no index to return\r\n            return null;\r\n        }\r\n        if (value < items[0].time) {\r\n            // value less then the first item. return -1\r\n            return -1;\r\n        }\r\n        if (value > items[items.length - 1].time) {\r\n            // value bigger then the last item, return last item index\r\n            return items.length - 1;\r\n        }\r\n        var lo = 0;\r\n        var hi = items.length - 1;\r\n        while (lo <= hi) {\r\n            var mid = Math.floor((hi + lo + 1) / 2);\r\n            if (value < items[mid].time) {\r\n                hi = mid - 1;\r\n            }\r\n            else if (value > items[mid].time) {\r\n                lo = mid + 1;\r\n            }\r\n            else {\r\n                return mid;\r\n            }\r\n        }\r\n        return Math.min(lo, hi); // return the lowest index which represent the last visual item\r\n    };\r\n    HotspotsEngine.prototype.findClosestLastIndexByTime = function (time) {\r\n        var changes = this.hotspotsChanges;\r\n        var closestIndex = this.binarySearch(changes, time);\r\n        if (closestIndex === null) {\r\n            return -1;\r\n        }\r\n        var changesLength = changes.length;\r\n        while (closestIndex < changesLength - 1 && changes[closestIndex + 1].time === time) {\r\n            closestIndex++;\r\n        }\r\n        return closestIndex;\r\n    };\r\n    HotspotsEngine.prototype.prepareHotspots = function () {\r\n        var _this = this;\r\n        (this.hotspots || []).forEach(function (hotspot) {\r\n            if (hotspot.startTime !== null && typeof hotspot.startTime !== 'undefined' && hotspot.startTime >= 0) {\r\n                _this.hotspotsChanges.push({\r\n                    time: hotspot.startTime,\r\n                    type: ChangeTypes.Show,\r\n                    cuePoint: hotspot // NOTICE: it is the responsability of this engine not to return hotspot without layout\r\n                });\r\n            }\r\n            if (hotspot.endTime !== null && typeof hotspot.endTime !== 'undefined' && hotspot.endTime >= 0) {\r\n                _this.hotspotsChanges.push({\r\n                    time: hotspot.endTime,\r\n                    type: ChangeTypes.Hide,\r\n                    cuePoint: hotspot // NOTICE: it is the responsability of this engine not to return hotspot without layout\r\n                });\r\n            }\r\n        });\r\n        this.hotspotsChanges.sort(function (a, b) {\r\n            return a.time < b.time ? -1 : a.time === b.time ? 0 : 1;\r\n        });\r\n        log('debug', 'prepareHotspots', \"tracking \" + this.hotspotsChanges.length + \" changes\", this.hotspotsChanges);\r\n    };\r\n    return HotspotsEngine;\r\n}());\r\nexport { HotspotsEngine };\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/hotspots-engine.ts\n// module id = null\n// module chunks = ","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { h, Component } from \"preact\";\r\nimport Hotspot from './Hotspot';\r\nimport { HotspotsEngine } from \"../utils/hotspots-engine\";\r\nimport { log } from \"../utils/logger\";\r\nexport var NotifyEventTypes;\r\n(function (NotifyEventTypes) {\r\n    NotifyEventTypes[\"Monitor\"] = \"monitor\";\r\n    NotifyEventTypes[\"Seeked\"] = \"seeked\";\r\n})(NotifyEventTypes || (NotifyEventTypes = {}));\r\nvar PlayerUpdateEvent = \"updatePlayHeadPercent:hotspots\";\r\nvar Stage = /** @class */ (function (_super) {\r\n    __extends(Stage, _super);\r\n    function Stage() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.engine = null;\r\n        _this.initialState = {\r\n            isLoading: false,\r\n            playerSize: _this.props.getPlayerSize(),\r\n            videoSize: _this.props.getVideoSize(),\r\n            visibleHotspots: [],\r\n            showHotspots: false,\r\n            hasError: false\r\n        };\r\n        _this.state = __assign({}, _this.initialState);\r\n        _this.showHotspots = function () {\r\n            _this.setState({\r\n                showHotspots: true\r\n            });\r\n        };\r\n        _this.notify = function (event) {\r\n            switch (event.type) {\r\n                case NotifyEventTypes.Monitor:\r\n                case NotifyEventTypes.Seeked:\r\n                    _this.syncVisibleHotspots();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n        _this._handleCuepoints = function (result) {\r\n            var hotspots = result.hotspots, error = result.error;\r\n            if (error || !hotspots) {\r\n                log('error', '_handleCuepoints', 'failed to load cuepoints', { error: error ? error.message : 'missing hotspots array' });\r\n                _this.setState({\r\n                    isLoading: false,\r\n                    hasError: true,\r\n                });\r\n                return;\r\n            }\r\n            _this.engine = new HotspotsEngine(hotspots);\r\n            _this.engine.updateLayout(_this.state.playerSize, _this.state.videoSize);\r\n            _this.setState({\r\n                isLoading: false,\r\n                hasError: false,\r\n                visibleHotspots: []\r\n            }, function () {\r\n                _this.syncVisibleHotspots();\r\n            });\r\n        };\r\n        _this.handleResize = function () {\r\n            var _a = _this.props, getPlayerSize = _a.getPlayerSize, getVideoSize = _a.getVideoSize;\r\n            _this.setState({\r\n                playerSize: getPlayerSize(),\r\n                videoSize: getVideoSize()\r\n            }, function () {\r\n                if (_this.engine) {\r\n                    _this.engine.updateLayout(_this.state.playerSize, _this.state.videoSize);\r\n                    _this.syncVisibleHotspots(true);\r\n                }\r\n            });\r\n        };\r\n        _this.reset = function () {\r\n            _this.engine = null;\r\n            _this.setState(__assign({}, _this.initialState), function () {\r\n                _this.props.loadCuePoints(_this._handleCuepoints);\r\n            });\r\n        };\r\n        _this.renderHotspots = function (visualHotspot) {\r\n            if (!visualHotspot) {\r\n                return null;\r\n            }\r\n            var _a = _this.props, seekTo = _a.seekTo, pauseVideo = _a.pauseVideo, sendAnalytics = _a.sendAnalytics;\r\n            return visualHotspot.map(function (hotspotData) { return (h(Hotspot, { pauseVideo: pauseVideo, seekTo: seekTo, key: hotspotData.id, visible: true, hotspot: hotspotData, sendAnalytics: sendAnalytics })); });\r\n        };\r\n        return _this;\r\n    }\r\n    Stage.prototype.componentDidMount = function () {\r\n        this.reset();\r\n    };\r\n    Stage.prototype.syncVisibleHotspots = function (forceSnapshot) {\r\n        var _this = this;\r\n        if (forceSnapshot === void 0) { forceSnapshot = false; }\r\n        var getCurrentTime = this.props.getCurrentTime;\r\n        this.setState(function (state) {\r\n            if (!_this.engine) {\r\n                return {\r\n                    visibleHotspots: []\r\n                };\r\n            }\r\n            var hotspotsUpdate = _this.engine.updateTime(getCurrentTime(), forceSnapshot);\r\n            if (hotspotsUpdate.snapshot) {\r\n                return {\r\n                    visibleHotspots: hotspotsUpdate.snapshot\r\n                };\r\n            }\r\n            if (!hotspotsUpdate.delta) {\r\n                return {\r\n                    visibleHotspots: []\r\n                };\r\n            }\r\n            var _a = hotspotsUpdate.delta, show = _a.show, hide = _a.hide;\r\n            if (show.length !== 0 || hide.length !== 0) {\r\n                var visibleHotspots_1 = state.visibleHotspots;\r\n                show.forEach(function (hotspot) {\r\n                    var index = visibleHotspots_1.indexOf(hotspot);\r\n                    if (index === -1) {\r\n                        visibleHotspots_1.push(hotspot);\r\n                    }\r\n                });\r\n                hide.forEach(function (hotspot) {\r\n                    var index = visibleHotspots_1.indexOf(hotspot);\r\n                    if (index !== -1) {\r\n                        visibleHotspots_1.splice(index, 1);\r\n                    }\r\n                });\r\n                return {\r\n                    visibleHotspots: visibleHotspots_1\r\n                };\r\n            }\r\n        });\r\n    };\r\n    Stage.prototype.render = function () {\r\n        var _a = this.state, visibleHotspots = _a.visibleHotspots, showHotspots = _a.showHotspots;\r\n        var hotspotsElements = showHotspots ? this.renderHotspots(visibleHotspots) : null;\r\n        var style = {\r\n            position: 'absolute',\r\n            display: 'block',\r\n            overflow: 'visible',\r\n            top: 0,\r\n            left: 0,\r\n            width: 0,\r\n            height: 0\r\n        };\r\n        return (h(\"div\", { style: style }, hotspotsElements));\r\n    };\r\n    return Stage;\r\n}(Component));\r\nexport default Stage;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Stage.tsx\n// module id = null\n// module chunks = ","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n};\r\n//let poly = require(\"preact-cli/lib/lib/webpack/polyfills\");\r\nimport { h, render } from \"preact\";\r\nimport Stage, { NotifyEventTypes } from \"../components/Stage\";\r\nimport { log, enableLog } from \"../utils/logger\";\r\n(function (mw, $) {\r\n    function toObject(jsonAsString, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = {}; }\r\n        if (!jsonAsString) {\r\n            return defaultValue;\r\n        }\r\n        try {\r\n            return { result: JSON.parse(jsonAsString) };\r\n        }\r\n        catch (e) {\r\n            return { error: e };\r\n        }\r\n    }\r\n    (function shouldEnableLogs() {\r\n        try {\r\n            if (document.URL.indexOf(\"debugVidiunPlayer\") !== -1) {\r\n                enableLog(\"hotspots\");\r\n            }\r\n        }\r\n        catch (e) {\r\n            // do nothing\r\n        }\r\n    })();\r\n    var WEBKIT_PLAYS_INLINE_KEY = \"EmbedPlayer.WebKitPlaysInline\";\r\n    function isIpad() {\r\n        return navigator.userAgent.indexOf(\"iPad\") != -1;\r\n    }\r\n    function isIphone() {\r\n        return navigator.userAgent.indexOf(\"iPhone\") != -1 && !isIpad();\r\n    }\r\n    mw.vidiunPluginWrapper(function () {\r\n        mw.PluginManager.add(\"hotspots\", mw.VBaseComponent.extend({\r\n            _root: null,\r\n            _videoSize: null,\r\n            _wasPlayed: false,\r\n            stage: null,\r\n            defaultConfig: {\r\n                parent: \"videoHolder\",\r\n                order: 1\r\n            },\r\n            handleVideoSizeChange: function (e) {\r\n                var _a = this.getPlayer().evaluate(\"{mediaProxy.entry}\"), width = _a.width, height = _a.height;\r\n                log(\"debug\", \"plugin.handleVideoSizeChange\", \"use entry size provided by player to calculate actual stage size\", { width: width, height: height });\r\n                if (!width || !height) {\r\n                    this._videoSize = null;\r\n                }\r\n                else {\r\n                    this._videoSize = { width: width, height: height };\r\n                }\r\n                this.stage.handleResize();\r\n            },\r\n            setup: function () {\r\n                if (isIphone()) {\r\n                    log(\"log\", \"setup\", \"iphone detected, disable plugin\");\r\n                    return;\r\n                }\r\n                this.addBindings();\r\n            },\r\n            seekTo: function (time) {\r\n                this.getPlayer().seek(time);\r\n            },\r\n            pauseVideo: function () {\r\n                this.getPlayer().sendNotification(\"doPause\");\r\n            },\r\n            getCuePoints: function () {\r\n                return this.cuePoints;\r\n            },\r\n            loadCuePoints: function (callback) {\r\n                var _this = this;\r\n                // do the api request\r\n                this.getVidiunClient().doRequest({\r\n                    service: \"cuepoint_cuepoint\",\r\n                    action: \"list\",\r\n                    \"filter:entryIdEqual\": this.getPlayer().ventryid,\r\n                    \"filter:objectType\": \"VidiunCuePointFilter\",\r\n                    \"filter:cuePointTypeEqual\": \"annotation.Annotation\",\r\n                    \"filter:tagsLike\": \"hotspots\"\r\n                }, function (data) {\r\n                    // if an error pop out:\r\n                    var hasError = !data || data.code;\r\n                    if (hasError) {\r\n                        callback({\r\n                            error: { message: data.code || \"failure\" }\r\n                        });\r\n                    }\r\n                    else {\r\n                        var hotspots = [];\r\n                        (data.objects || []).reduce(function (acc, cuePoint) {\r\n                            var _a = toObject(cuePoint.partnerData), partnerData = _a.result, error = _a.error;\r\n                            if (!partnerData ||\r\n                                !partnerData.schemaVersion) {\r\n                                log(\"warn\", \"loadCuePoints\", \"annotation '\" + cuePoint.partnerData.id + \"' has no schema version, skip annotation\");\r\n                                return acc;\r\n                            }\r\n                            var rawLayout = __assign({}, partnerData.layout);\r\n                            acc.push({\r\n                                id: cuePoint.id,\r\n                                startTime: cuePoint.startTime,\r\n                                endTime: cuePoint.endTime,\r\n                                label: cuePoint.text,\r\n                                styles: partnerData.styles,\r\n                                onClick: partnerData.onClick,\r\n                                rawLayout: rawLayout\r\n                            });\r\n                            return acc;\r\n                        }, hotspots);\r\n                        callback({ hotspots: hotspots });\r\n                    }\r\n                });\r\n            },\r\n            getPlayerSize: function () {\r\n                var videoHolder = this.getPlayer().getVideoHolder();\r\n                if (!videoHolder) {\r\n                    return null;\r\n                }\r\n                var width = videoHolder.width();\r\n                var height = videoHolder.height();\r\n                return {\r\n                    width: width,\r\n                    height: height\r\n                };\r\n            },\r\n            sendAnalytics: function (event) {\r\n                try {\r\n                    var kanalonyPlugin = this.getPlayer().plugins.vAnalony;\r\n                    if (!kanalonyPlugin) {\r\n                        log(\"warn\", \"sendAnalytics\", \"cannot send analytics event, missing vAnalony plugin\", event);\r\n                        return;\r\n                    }\r\n                    var eventNumber = event.eventNumber, rest = __rest(event, [\"eventNumber\"]);\r\n                    kanalonyPlugin.sendAnalytics(eventNumber, rest);\r\n                }\r\n                catch (e) {\r\n                    log(\"error\", \"sendAnalytics\", \"cannot send analytics event with error '\" + e.message + \"'\", event);\r\n                }\r\n            },\r\n            getVideoSize: function () {\r\n                if (!this._videoSize) {\r\n                    return null;\r\n                }\r\n                return __assign({}, this._videoSize);\r\n            },\r\n            addBindings: function () {\r\n                var _this = this;\r\n                this.bind(\"playerReady\", function () {\r\n                    var props = {\r\n                        getCurrentTime: _this._getCurrentTime.bind(_this),\r\n                        loadCuePoints: _this.loadCuePoints.bind(_this),\r\n                        getPlayerSize: _this.getPlayerSize.bind(_this),\r\n                        getVideoSize: _this.getVideoSize.bind(_this),\r\n                        pauseVideo: _this.pauseVideo.bind(_this),\r\n                        seekTo: _this.seekTo.bind(_this),\r\n                        sendAnalytics: _this.sendAnalytics.bind(_this)\r\n                    };\r\n                    _this._root = render(h(Stage, __assign({}, props, { ref: function (ref) { return (_this.stage = ref); } })), jQuery('[id=\"hotspotsOverlay\"]')[0]);\r\n                });\r\n                this.bind(\"updateLayout\", function () {\r\n                    _this.stage.handleResize();\r\n                });\r\n                this.bind(\"firstPlay\", function () {\r\n                    if (!_this._wasPlayed) {\r\n                        _this.stage.showHotspots();\r\n                        _this._wasPlayed = true;\r\n                    }\r\n                });\r\n                this.bind(\"seeked\", function () {\r\n                    if (!_this._wasPlayed) {\r\n                        _this.stage.showHotspots();\r\n                        _this._wasPlayed = true;\r\n                    }\r\n                });\r\n                this.bind(\"onChangeMedia\", function () {\r\n                    // DEVELOPER NOTICE: this is the destruction place.\r\n                    _this._wasPlayed = false;\r\n                    _this._videoSize = null;\r\n                    render(\r\n                    // @ts-ignore\r\n                    h(null), jQuery('[id=\"hotspotsOverlay\"]')[0], _this._root);\r\n                    _this._root = null;\r\n                    _this.stage = null;\r\n                });\r\n                this.bind(\"monitorEvent\", function () {\r\n                    _this.stage.notify({ type: NotifyEventTypes.Monitor });\r\n                });\r\n                this.bind(\"mediaLoaded\", function () {\r\n                    _this.handleVideoSizeChange();\r\n                });\r\n                this.bind(\"seeked\", function () {\r\n                    _this.stage.notify({ type: NotifyEventTypes.Seeked });\r\n                });\r\n            },\r\n            _getCurrentTime: function () {\r\n                return this.getPlayer().currentTime * 1000;\r\n            },\r\n            getComponent: function () {\r\n                if (!this.$el) {\r\n                    this.$el = jQuery(\"<div></div>\")\r\n                        .attr(\"id\", \"hotspotsOverlay\")\r\n                        .css({\r\n                        position: \"absolute\",\r\n                        height: \"0\",\r\n                        width: \"0\",\r\n                        top: 0,\r\n                        left: 0,\r\n                        overflow: 'visible'\r\n                    });\r\n                }\r\n                return this.$el;\r\n            }\r\n        }));\r\n    });\r\n})(window.mw, window.jQuery);\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./player-v2/plugin.tsx\n// module id = null\n// module chunks = ","\"use strict\";\r\n!function () {\r\n    \"use strict\";\r\n    function e() { }\r\n    function t(t, n) {\r\n        var o, r, i, l, a = E;\r\n        for (l = arguments.length; l-- > 2;) {\r\n            W.push(arguments[l]);\r\n        }\r\n        n && null != n.children && (W.length || W.push(n.children), delete n.children);\r\n        while (W.length) {\r\n            if ((r = W.pop()) && void 0 !== r.pop)\r\n                for (l = r.length; l--;) {\r\n                    W.push(r[l]);\r\n                }\r\n            else\r\n                \"boolean\" == typeof r && (r = null), (i = \"function\" != typeof t) && (null == r ? r = \"\" : \"number\" == typeof r ? r += \"\" : \"string\" != typeof r && (i = !1)), i && o ? a[a.length - 1] += r : a === E ? a = [r] : a.push(r), o = i;\r\n        }\r\n        var u = new e();\r\n        return u.nodeName = t, u.children = a, u.attributes = null == n ? void 0 : n, u.key = null == n ? void 0 : n.key, void 0 !== S.vnode && S.vnode(u), u;\r\n    }\r\n    function n(e, t) {\r\n        for (var n in t) {\r\n            e[n] = t[n];\r\n        }\r\n        return e;\r\n    }\r\n    function o(e, o) {\r\n        return t(e.nodeName, n(n({}, e.attributes), o), arguments.length > 2 ? [].slice.call(arguments, 2) : e.children);\r\n    }\r\n    function r(e) {\r\n        !e.__d && (e.__d = !0) && 1 == A.push(e) && (S.debounceRendering || P)(i);\r\n    }\r\n    function i() {\r\n        var e, t = A;\r\n        A = [];\r\n        while (e = t.pop()) {\r\n            e.__d && k(e);\r\n        }\r\n    }\r\n    function l(e, t, n) {\r\n        return \"string\" == typeof t || \"number\" == typeof t ? void 0 !== e.splitText : \"string\" == typeof t.nodeName ? !e._componentConstructor && a(e, t.nodeName) : n || e._componentConstructor === t.nodeName;\r\n    }\r\n    function a(e, t) {\r\n        return e.__n === t || e.nodeName.toLowerCase() === t.toLowerCase();\r\n    }\r\n    function u(e) {\r\n        var t = n({}, e.attributes);\r\n        t.children = e.children;\r\n        var o = e.nodeName.defaultProps;\r\n        if (void 0 !== o)\r\n            for (var r in o) {\r\n                void 0 === t[r] && (t[r] = o[r]);\r\n            }\r\n        return t;\r\n    }\r\n    function _(e, t) {\r\n        var n = t ? document.createElementNS(\"http://www.w3.org/2000/svg\", e) : document.createElement(e);\r\n        return n.__n = e, n;\r\n    }\r\n    function p(e) {\r\n        var t = e.parentNode;\r\n        t && t.removeChild(e);\r\n    }\r\n    function c(e, t, n, o, r) {\r\n        if (\"className\" === t && (t = \"class\"), \"key\" === t)\r\n            ;\r\n        else if (\"ref\" === t)\r\n            n && n(null), o && o(e);\r\n        else if (\"class\" !== t || r) {\r\n            if (\"style\" === t) {\r\n                if (o && \"string\" != typeof o && \"string\" != typeof n || (e.style.cssText = o || \"\"), o && \"object\" == typeof o) {\r\n                    if (\"string\" != typeof n)\r\n                        for (var i in n) {\r\n                            i in o || (e.style[i] = \"\");\r\n                        }\r\n                    for (var i in o) {\r\n                        e.style[i] = \"number\" == typeof o[i] && !1 === V.test(i) ? o[i] + \"px\" : o[i];\r\n                    }\r\n                }\r\n            }\r\n            else if (\"dangerouslySetInnerHTML\" === t)\r\n                o && (e.innerHTML = o.__html || \"\");\r\n            else if (\"o\" == t[0] && \"n\" == t[1]) {\r\n                var l = t !== (t = t.replace(/Capture$/, \"\"));\r\n                t = t.toLowerCase().substring(2), o ? n || e.addEventListener(t, f, l) : e.removeEventListener(t, f, l), (e.__l || (e.__l = {}))[t] = o;\r\n            }\r\n            else if (\"list\" !== t && \"type\" !== t && !r && t in e)\r\n                s(e, t, null == o ? \"\" : o), null != o && !1 !== o || e.removeAttribute(t);\r\n            else {\r\n                var a = r && t !== (t = t.replace(/^xlink\\:?/, \"\"));\r\n                null == o || !1 === o ? a ? e.removeAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase()) : e.removeAttribute(t) : \"function\" != typeof o && (a ? e.setAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase(), o) : e.setAttribute(t, o));\r\n            }\r\n        }\r\n        else\r\n            e.className = o || \"\";\r\n    }\r\n    function s(e, t, n) {\r\n        try {\r\n            e[t] = n;\r\n        }\r\n        catch (e) { }\r\n    }\r\n    function f(e) {\r\n        return this.__l[e.type](S.event && S.event(e) || e);\r\n    }\r\n    function d() {\r\n        var e;\r\n        while (e = D.pop()) {\r\n            S.afterMount && S.afterMount(e), e.componentDidMount && e.componentDidMount();\r\n        }\r\n    }\r\n    function h(e, t, n, o, r, i) {\r\n        H++ || (R = null != r && void 0 !== r.ownerSVGElement, j = null != e && !(\"__preactattr_\" in e));\r\n        var l = m(e, t, n, o, i);\r\n        return r && l.parentNode !== r && r.appendChild(l), --H || (j = !1, i || d()), l;\r\n    }\r\n    function m(e, t, n, o, r) {\r\n        var i = e, l = R;\r\n        if (null != t && \"boolean\" != typeof t || (t = \"\"), \"string\" == typeof t || \"number\" == typeof t)\r\n            return e && void 0 !== e.splitText && e.parentNode && (!e._component || r) ? e.nodeValue != t && (e.nodeValue = t) : (i = document.createTextNode(t), e && (e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0))), i.__preactattr_ = !0, i;\r\n        var u = t.nodeName;\r\n        if (\"function\" == typeof u)\r\n            return U(e, t, n, o);\r\n        if (R = \"svg\" === u || \"foreignObject\" !== u && R, u += \"\", (!e || !a(e, u)) && (i = _(u, R), e)) {\r\n            while (e.firstChild) {\r\n                i.appendChild(e.firstChild);\r\n            }\r\n            e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0);\r\n        }\r\n        var p = i.firstChild, c = i.__preactattr_, s = t.children;\r\n        if (null == c) {\r\n            c = i.__preactattr_ = {};\r\n            for (var f = i.attributes, d = f.length; d--;) {\r\n                c[f[d].name] = f[d].value;\r\n            }\r\n        }\r\n        return !j && s && 1 === s.length && \"string\" == typeof s[0] && null != p && void 0 !== p.splitText && null == p.nextSibling ? p.nodeValue != s[0] && (p.nodeValue = s[0]) : (s && s.length || null != p) && v(i, s, n, o, j || null != c.dangerouslySetInnerHTML), g(i, t.attributes, c), R = l, i;\r\n    }\r\n    function v(e, t, n, o, r) {\r\n        var i, a, u, _, c, s = e.childNodes, f = [], d = {}, h = 0, v = 0, y = s.length, g = 0, w = t ? t.length : 0;\r\n        if (0 !== y)\r\n            for (var C = 0; C < y; C++) {\r\n                var x = s[C], N = x.__preactattr_, k = w && N ? x._component ? x._component.__k : N.key : null;\r\n                null != k ? (h++, d[k] = x) : (N || (void 0 !== x.splitText ? !r || x.nodeValue.trim() : r)) && (f[g++] = x);\r\n            }\r\n        if (0 !== w)\r\n            for (var C = 0; C < w; C++) {\r\n                _ = t[C], c = null;\r\n                var k = _.key;\r\n                if (null != k)\r\n                    h && void 0 !== d[k] && (c = d[k], d[k] = void 0, h--);\r\n                else if (!c && v < g)\r\n                    for (i = v; i < g; i++) {\r\n                        if (void 0 !== f[i] && l(a = f[i], _, r)) {\r\n                            c = a, f[i] = void 0, i === g - 1 && g--, i === v && v++;\r\n                            break;\r\n                        }\r\n                    }\r\n                c = m(c, _, n, o), u = s[C], c && c !== e && c !== u && (null == u ? e.appendChild(c) : c === u.nextSibling ? p(u) : e.insertBefore(c, u));\r\n            }\r\n        if (h)\r\n            for (var C in d) {\r\n                void 0 !== d[C] && b(d[C], !1);\r\n            }\r\n        while (v <= g) {\r\n            void 0 !== (c = f[g--]) && b(c, !1);\r\n        }\r\n    }\r\n    function b(e, t) {\r\n        var n = e._component;\r\n        n ? L(n) : (null != e.__preactattr_ && e.__preactattr_.ref && e.__preactattr_.ref(null), !1 !== t && null != e.__preactattr_ || p(e), y(e));\r\n    }\r\n    function y(e) {\r\n        e = e.lastChild;\r\n        while (e) {\r\n            var t = e.previousSibling;\r\n            b(e, !0), e = t;\r\n        }\r\n    }\r\n    function g(e, t, n) {\r\n        var o;\r\n        for (o in n) {\r\n            t && null != t[o] || null == n[o] || c(e, o, n[o], n[o] = void 0, R);\r\n        }\r\n        for (o in t) {\r\n            \"children\" === o || \"innerHTML\" === o || o in n && t[o] === (\"value\" === o || \"checked\" === o ? e[o] : n[o]) || c(e, o, n[o], n[o] = t[o], R);\r\n        }\r\n    }\r\n    function w(e) {\r\n        var t = e.constructor.name;\r\n        (I[t] || (I[t] = [])).push(e);\r\n    }\r\n    function C(e, t, n) {\r\n        var o, r = I[e.name];\r\n        if (e.prototype && e.prototype.render ? (o = new e(t, n), T.call(o, t, n)) : (o = new T(t, n), o.constructor = e, o.render = x), r)\r\n            for (var i = r.length; i--;) {\r\n                if (r[i].constructor === e) {\r\n                    o.__b = r[i].__b, r.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        return o;\r\n    }\r\n    function x(e, t, n) {\r\n        return this.constructor(e, n);\r\n    }\r\n    function N(e, t, n, o, i) {\r\n        e.__x || (e.__x = !0, (e.__r = t.ref) && delete t.ref, (e.__k = t.key) && delete t.key, !e.base || i ? e.componentWillMount && e.componentWillMount() : e.componentWillReceiveProps && e.componentWillReceiveProps(t, o), o && o !== e.context && (e.__c || (e.__c = e.context), e.context = o), e.__p || (e.__p = e.props), e.props = t, e.__x = !1, 0 !== n && (1 !== n && !1 === S.syncComponentUpdates && e.base ? r(e) : k(e, 1, i)), e.__r && e.__r(e));\r\n    }\r\n    function k(e, t, o, r) {\r\n        if (!e.__x) {\r\n            var i, l, a, _ = e.props, p = e.state, c = e.context, s = e.__p || _, f = e.__s || p, m = e.__c || c, v = e.base, y = e.__b, g = v || y, w = e._component, x = !1;\r\n            if (v && (e.props = s, e.state = f, e.context = m, 2 !== t && e.shouldComponentUpdate && !1 === e.shouldComponentUpdate(_, p, c) ? x = !0 : e.componentWillUpdate && e.componentWillUpdate(_, p, c), e.props = _, e.state = p, e.context = c), e.__p = e.__s = e.__c = e.__b = null, e.__d = !1, !x) {\r\n                i = e.render(_, p, c), e.getChildContext && (c = n(n({}, c), e.getChildContext()));\r\n                var U, T, M = i && i.nodeName;\r\n                if (\"function\" == typeof M) {\r\n                    var W = u(i);\r\n                    l = w, l && l.constructor === M && W.key == l.__k ? N(l, W, 1, c, !1) : (U = l, e._component = l = C(M, W, c), l.__b = l.__b || y, l.__u = e, N(l, W, 0, c, !1), k(l, 1, o, !0)), T = l.base;\r\n                }\r\n                else\r\n                    a = g, U = w, U && (a = e._component = null), (g || 1 === t) && (a && (a._component = null), T = h(a, i, c, o || !v, g && g.parentNode, !0));\r\n                if (g && T !== g && l !== w) {\r\n                    var E = g.parentNode;\r\n                    E && T !== E && (E.replaceChild(T, g), U || (g._component = null, b(g, !1)));\r\n                }\r\n                if (U && L(U), e.base = T, T && !r) {\r\n                    var P = e, V = e;\r\n                    while (V = V.__u) {\r\n                        (P = V).base = T;\r\n                    }\r\n                    T._component = P, T._componentConstructor = P.constructor;\r\n                }\r\n            }\r\n            if (!v || o ? D.unshift(e) : x || (e.componentDidUpdate && e.componentDidUpdate(s, f, m), S.afterUpdate && S.afterUpdate(e)), null != e.__h)\r\n                while (e.__h.length) {\r\n                    e.__h.pop().call(e);\r\n                }\r\n            H || r || d();\r\n        }\r\n    }\r\n    function U(e, t, n, o) {\r\n        var r = e && e._component, i = r, l = e, a = r && e._componentConstructor === t.nodeName, _ = a, p = u(t);\r\n        while (r && !_ && (r = r.__u)) {\r\n            _ = r.constructor === t.nodeName;\r\n        }\r\n        return r && _ && (!o || r._component) ? (N(r, p, 3, n, o), e = r.base) : (i && !a && (L(i), e = l = null), r = C(t.nodeName, p, n), e && !r.__b && (r.__b = e, l = null), N(r, p, 1, n, o), e = r.base, l && e !== l && (l._component = null, b(l, !1))), e;\r\n    }\r\n    function L(e) {\r\n        S.beforeUnmount && S.beforeUnmount(e);\r\n        var t = e.base;\r\n        e.__x = !0, e.componentWillUnmount && e.componentWillUnmount(), e.base = null;\r\n        var n = e._component;\r\n        n ? L(n) : t && (t.__preactattr_ && t.__preactattr_.ref && t.__preactattr_.ref(null), e.__b = t, p(t), w(e), y(t)), e.__r && e.__r(null);\r\n    }\r\n    function T(e, t) {\r\n        this.__d = !0, this.context = t, this.props = e, this.state = this.state || {};\r\n    }\r\n    function M(e, t, n) {\r\n        return h(n, e, {}, !1, t, !1);\r\n    }\r\n    var S = {}, W = [], E = [], P = \"function\" == typeof Promise ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout, V = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i, A = [], D = [], H = 0, R = !1, j = !1, I = {};\r\n    n(T.prototype, { setState: function setState(e, t) {\r\n            var o = this.state;\r\n            this.__s || (this.__s = n({}, o)), n(o, \"function\" == typeof e ? e(o, this.props) : e), t && (this.__h = this.__h || []).push(t), r(this);\r\n        }, forceUpdate: function forceUpdate(e) {\r\n            e && (this.__h = this.__h || []).push(e), k(this, 2);\r\n        }, render: function render() { } });\r\n    var $ = { h: t, createElement: t, cloneElement: o, Component: T, render: M, rerender: i, options: S };\r\n    \"undefined\" != typeof module ? module.exports = $ : self.preact = $;\r\n}();\r\n//# sourceMappingURL=preact.min.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/preact/dist/preact.min.js\n// module id = KM04\n// module chunks = 0","'use strict';\r\nvar _preact = require('preact');\r\nif (process.env.NODE_ENV === 'development') {\r\n    require('preact/devtools');\r\n}\r\nelse if (process.env.ADD_SW && 'serviceWorker' in navigator && location.protocol === 'https:') {\r\n    navigator.serviceWorker.register(__webpack_public_path__ + 'sw.js');\r\n}\r\nvar interopDefault = function interopDefault(m) {\r\n    return m && m[\"default\"] ? m[\"default\"] : m;\r\n};\r\nvar app = interopDefault(require('preact-cli-entrypoint'));\r\nif (typeof app === 'function') {\r\n    var root = document.body.firstElementChild;\r\n    var init = function init() {\r\n        var app = interopDefault(require('preact-cli-entrypoint'));\r\n        root = (0, _preact.render)((0, _preact.h)(app), document.body, root);\r\n    };\r\n    if (module.hot)\r\n        module.hot.accept('preact-cli-entrypoint', init);\r\n    init();\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/preact-cli/lib/lib/entry.js\n// module id = pwNi\n// module chunks = 0"],"sourceRoot":""}