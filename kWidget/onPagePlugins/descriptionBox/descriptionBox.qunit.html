<!DOCTYPE HTML>
<html>
<head>
<title>Description / Title Box</title>
<script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
<script type="text/javascript" >
	window.testExternalResourceInclude = function( resourceName ){
		if( console && console.log ){
			console.log( resourceName );
		}
	}
</script>
<script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
<script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
<script type="text/javascript">	
// Enable uiconf js which includes external resources 
mw.setConfig('Vidiun.EnableEmbedUiConfJs', true);

function jsVidiunPlayerTest( videoId ){
	// Name this module
	module( "Description Box test" );
	var vdp = $('#' + videoId )[0];
	var $iframe = $('#' + videoId + '_ifp').contents();
	
	asyncTest( "Check for Description box", function(){
		vidiunQunitWaitForPlayer(function(){
			// look for description box id: 
			ok( $( '#descriptionBox_' + videoId ).length, "Found descriptionBox div" );
			equal ( $( '#descriptionBox_' + videoId ).height(), vdp.evaluate('{descriptionBox.boxHeight}'), "Height is set correctly");
			equal( $( '#descriptionBox_' + videoId ).find('p').html(), 
					vdp.evaluate('{mediaProxy.entry.description}'), 
					"description matches vdp description");
			start();
		});
	});
	
}

</script>
<!-- qunit-vidiun must come after qunit-bootstrap.js and after mwEmbedLoader.php and after any jsCallbackReady stuff-->
<script type="text/javascript" src="../../../modules/VidiunSupport/tests/resources/qunit-vidiun-bootstrap.js"></script>
</head>
<body>
<h2> Description / Title Box </h2>
<div id="vidiun_player" style="width:400px;height:330px;"></div>
<script>
vWidget.featureConfig({
	'cache_st': 23,
	'targetId' : 'vidiun_player',
	'wid' : '_243342',
	'uiconf_id' : '9677891',
	'entry_id' : '0_uka1msg4',
	'flashvars': {
		'descriptionBox':{
			'plugin': true,
			'path' : "/content/uiconf/ps/vidiun/vdp/v3.6.9/plugins/facadePlugin.swf",
			'relativeTo': 'video',
			'position': 'before',
			
			'boxHeight' : 300,
			'boxWidth' : 400,
			'boxTargetId': null,
			'boxLocation': 'after',
			'descriptionLabel' : "Description title",
			
			'requiresJQuery' : true,
			'onPageJs1': "{onPagePluginPath}/descriptionBox/descriptionBox.js",
			'onPageCss1': "{onPagePluginPath}/descriptionBox/descriptionBox.css"
		}
	}
})
</script>

</body>
</html>